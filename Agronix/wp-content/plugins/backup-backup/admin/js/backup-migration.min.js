jQuery(document).ready(function(t){var e;e=function(t){var e={animation:"fade",animationDuration:350,content:null,contentAsHTML:!1,contentCloning:!1,debug:!0,delay:300,delayTouch:[300,500],functionInit:null,functionBefore:null,functionReady:null,functionAfter:null,functionFormat:null,IEmin:6,interactive:!1,multiple:!1,parent:null,plugins:["sideTip"],repositionOnScroll:!1,restoration:"none",selfDestruction:!0,theme:[],timer:0,trackerInterval:500,trackOrigin:!1,trackTooltip:!1,trigger:"hover",triggerClose:{click:!1,mouseleave:!1,originClick:!1,scroll:!1,tap:!1,touchleave:!1},triggerOpen:{click:!1,mouseenter:!1,tap:!1,touchstart:!1},updateAnimation:"rotate",zIndex:9999999},o="undefined"!=typeof window?window:null,i={hasTouchCapability:!(!o||!("ontouchstart"in o||o.DocumentTouch&&o.document instanceof o.DocumentTouch||o.navigator.maxTouchPoints)),hasTransitions:function(){if(!o)return!1;var t=(o.document.body||o.document.documentElement).style,e="transition",i=["Moz","Webkit","Khtml","O","ms"];if("string"==typeof t[e])return!0;e=e.charAt(0).toUpperCase()+e.substr(1);for(var n=0;n<i.length;n++)if("string"==typeof t[i[n]+e])return!0;return!1}(),IE:!1,semVer:"4.2.8",window:o},n=function(){this.__$emitterPrivate=t({}),this.__$emitterPublic=t({}),this.__instancesLatestArr=[],this.__plugins={},this._env=i};function s(t){this.$container,this.constraints=null,this.__$tooltip,this.__init(t)}function r(e,o){var i=!0;return t.each(e,function(t,n){if(void 0===o[t]||e[t]!==o[t])return i=!1,!1}),i}function a(e){var o=e.attr("id"),n=o?i.window.document.getElementById(o):null;return n?n===e[0]:t.contains(i.window.document.body,e[0])}n.prototype={__bridge:function(e,o,i){if(!o[i]){var n=function(){};n.prototype=e;var s=new n;s.__init&&s.__init(o),t.each(e,function(t,e){0!=t.indexOf("__")&&(o[t]||(o[t]=function(){return s[t].apply(s,Array.prototype.slice.apply(arguments))},o[t].bridged=s))}),o[i]=s}return this},__setWindow:function(t){return i.window=t,this},_getRuler:function(t){return new s(t)},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_plugin:function(e){if("string"==typeof e){var o=e,i=null;return o.indexOf(".")>0?i=this.__plugins[o]:t.each(this.__plugins,function(t,e){if(e.name.substring(e.name.length-o.length-1)=="."+o)return i=e,!1}),i}if(e.name.indexOf(".")<0)throw new Error("Plugins must be namespaced");return this.__plugins[e.name]=e,e.core&&this.__bridge(e.core,this,e.name),this},_trigger:function(){var t=Array.prototype.slice.apply(arguments);return"string"==typeof t[0]&&(t[0]={type:t[0]}),this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,t),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,t),this},instances:function(e){var o=[];return t(e||".tooltipstered").each(function(){var e=t(this),i=e.data("tooltipster-ns");i&&t.each(i,function(t,i){o.push(e.data(i))})}),o},instancesLatest:function(){return this.__instancesLatestArr},off:function(){return this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},one:function(){return this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},origins:function(e){return t((e?e+" ":"")+".tooltipstered").toArray()},setDefaults:function(o){return t.extend(e,o),this},triggerHandler:function(){return this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}},t.tooltipster=new n,t.Tooltipster=function(e,o){this.__callbacks={close:[],open:[]},this.__closingTime,this.__Content,this.__contentBcr,this.__destroyed=!1,this.__$emitterPrivate=t({}),this.__$emitterPublic=t({}),this.__enabled=!0,this.__garbageCollector,this.__Geometry,this.__lastPosition,this.__namespace="tooltipster-"+Math.round(1e6*Math.random()),this.__options,this.__$originParents,this.__pointerIsOverOrigin=!1,this.__previousThemes=[],this.__state="closed",this.__timeouts={close:[],open:null},this.__touchEvents=[],this.__tracker=null,this._$origin,this._$tooltip,this.__init(e,o)},t.Tooltipster.prototype={__init:function(o,n){var s=this;if(s._$origin=t(o),s.__options=t.extend(!0,{},e,n),s.__optionsFormat(),!i.IE||i.IE>=s.__options.IEmin){var r=null;if(void 0===s._$origin.data("tooltipster-initialTitle")&&(void 0===(r=s._$origin.attr("title"))&&(r=null),s._$origin.data("tooltipster-initialTitle",r)),null!==s.__options.content)s.__contentSet(s.__options.content);else{var a,l=s._$origin.attr("data-tooltip-content");l&&(a=t(l)),a&&a[0]?s.__contentSet(a.first()):s.__contentSet(r)}s._$origin.removeAttr("title").addClass("tooltipstered"),s.__prepareOrigin(),s.__prepareGC(),t.each(s.__options.plugins,function(t,e){s._plug(e)}),i.hasTouchCapability&&t(i.window.document.body).on("touchmove."+s.__namespace+"-triggerOpen",function(t){s._touchRecordEvent(t)}),s._on("created",function(){s.__prepareTooltip()})._on("repositioned",function(t){s.__lastPosition=t.position})}else s.__options.disabled=!0},__contentInsert:function(){var t=this._$tooltip.find(".tooltipster-content"),e=this.__Content;return this._trigger({type:"format",content:this.__Content,format:function(t){e=t}}),this.__options.functionFormat&&(e=this.__options.functionFormat.call(this,this,{origin:this._$origin[0]},this.__Content)),"string"!=typeof e||this.__options.contentAsHTML?t.empty().append(e):t.text(e),this},__contentSet:function(e){return e instanceof t&&this.__options.contentCloning&&(e=e.clone(!0)),this.__Content=e,this._trigger({type:"updated",content:e}),this},__destroyError:function(){throw new Error("This tooltip has been destroyed and cannot execute your method call.")},__geometry:function(){var e=this._$origin,o=this._$origin.is("area");if(o){var n=this._$origin.parent().attr("name");e=t('img[usemap="#'+n+'"]')}var s=e[0].getBoundingClientRect(),r=t(i.window.document),a=t(i.window),l=e,c={available:{document:null,window:null},document:{size:{height:r.height(),width:r.width()}},window:{scroll:{left:i.window.scrollX||i.window.document.documentElement.scrollLeft,top:i.window.scrollY||i.window.document.documentElement.scrollTop},size:{height:a.height(),width:a.width()}},origin:{fixedLineage:!1,offset:{},size:{height:s.bottom-s.top,width:s.right-s.left},usemapImage:o?e[0]:null,windowOffset:{bottom:s.bottom,left:s.left,right:s.right,top:s.top}}};if(o){var d=this._$origin.attr("shape"),u=this._$origin.attr("coords");if(u&&(u=u.split(","),t.map(u,function(t,e){u[e]=parseInt(t)})),"default"!=d)switch(d){case"circle":var p=u[0],f=u[1],m=u[2],_=f-m,h=p-m;c.origin.size.height=2*m,c.origin.size.width=c.origin.size.height,c.origin.windowOffset.left+=h,c.origin.windowOffset.top+=_;break;case"rect":var g=u[0],b=u[1],w=u[2],v=u[3];c.origin.size.height=v-b,c.origin.size.width=w-g,c.origin.windowOffset.left+=g,c.origin.windowOffset.top+=b;break;case"poly":for(var y=0,k=0,x=0,C=0,$="even",T=0;T<u.length;T++){var I=u[T];"even"==$?(I>x&&(x=I,0===T&&(y=x)),I<y&&(y=I),$="odd"):(I>C&&(C=I,1==T&&(k=C)),I<k&&(k=I),$="even")}c.origin.size.height=C-k,c.origin.size.width=x-y,c.origin.windowOffset.left+=y,c.origin.windowOffset.top+=k}}for(this._trigger({type:"geometry",edit:function(t){c.origin.size.height=t.height,c.origin.windowOffset.left=t.left,c.origin.windowOffset.top=t.top,c.origin.size.width=t.width},geometry:{height:c.origin.size.height,left:c.origin.windowOffset.left,top:c.origin.windowOffset.top,width:c.origin.size.width}}),c.origin.windowOffset.right=c.origin.windowOffset.left+c.origin.size.width,c.origin.windowOffset.bottom=c.origin.windowOffset.top+c.origin.size.height,c.origin.offset.left=c.origin.windowOffset.left+c.window.scroll.left,c.origin.offset.top=c.origin.windowOffset.top+c.window.scroll.top,c.origin.offset.bottom=c.origin.offset.top+c.origin.size.height,c.origin.offset.right=c.origin.offset.left+c.origin.size.width,c.available.document={bottom:{height:c.document.size.height-c.origin.offset.bottom,width:c.document.size.width},left:{height:c.document.size.height,width:c.origin.offset.left},right:{height:c.document.size.height,width:c.document.size.width-c.origin.offset.right},top:{height:c.origin.offset.top,width:c.document.size.width}},c.available.window={bottom:{height:Math.max(c.window.size.height-Math.max(c.origin.windowOffset.bottom,0),0),width:c.window.size.width},left:{height:c.window.size.height,width:Math.max(c.origin.windowOffset.left,0)},right:{height:c.window.size.height,width:Math.max(c.window.size.width-Math.max(c.origin.windowOffset.right,0),0)},top:{height:Math.max(c.origin.windowOffset.top,0),width:c.window.size.width}};"html"!=l[0].tagName.toLowerCase();){if("fixed"==l.css("position")){c.origin.fixedLineage=!0;break}l=l.parent()}return c},__optionsFormat:function(){return"number"==typeof this.__options.animationDuration&&(this.__options.animationDuration=[this.__options.animationDuration,this.__options.animationDuration]),"number"==typeof this.__options.delay&&(this.__options.delay=[this.__options.delay,this.__options.delay]),"number"==typeof this.__options.delayTouch&&(this.__options.delayTouch=[this.__options.delayTouch,this.__options.delayTouch]),"string"==typeof this.__options.theme&&(this.__options.theme=[this.__options.theme]),null===this.__options.parent?this.__options.parent=t(i.window.document.body):"string"==typeof this.__options.parent&&(this.__options.parent=t(this.__options.parent)),"hover"==this.__options.trigger?(this.__options.triggerOpen={mouseenter:!0,touchstart:!0},this.__options.triggerClose={mouseleave:!0,originClick:!0,touchleave:!0}):"click"==this.__options.trigger&&(this.__options.triggerOpen={click:!0,tap:!0},this.__options.triggerClose={click:!0,tap:!0}),this._trigger("options"),this},__prepareGC:function(){var e=this;return e.__options.selfDestruction?e.__garbageCollector=setInterval(function(){var o=(new Date).getTime();e.__touchEvents=t.grep(e.__touchEvents,function(t,e){return o-t.time>6e4}),a(e._$origin)||e.close(function(){e.destroy()})},2e4):clearInterval(e.__garbageCollector),e},__prepareOrigin:function(){var t=this;if(t._$origin.off("."+t.__namespace+"-triggerOpen"),i.hasTouchCapability&&t._$origin.on("touchstart."+t.__namespace+"-triggerOpen touchend."+t.__namespace+"-triggerOpen touchcancel."+t.__namespace+"-triggerOpen",function(e){t._touchRecordEvent(e)}),t.__options.triggerOpen.click||t.__options.triggerOpen.tap&&i.hasTouchCapability){var e="";t.__options.triggerOpen.click&&(e+="click."+t.__namespace+"-triggerOpen "),t.__options.triggerOpen.tap&&i.hasTouchCapability&&(e+="touchend."+t.__namespace+"-triggerOpen"),t._$origin.on(e,function(e){t._touchIsMeaningfulEvent(e)&&t._open(e)})}if(t.__options.triggerOpen.mouseenter||t.__options.triggerOpen.touchstart&&i.hasTouchCapability){e="";t.__options.triggerOpen.mouseenter&&(e+="mouseenter."+t.__namespace+"-triggerOpen "),t.__options.triggerOpen.touchstart&&i.hasTouchCapability&&(e+="touchstart."+t.__namespace+"-triggerOpen"),t._$origin.on(e,function(e){!t._touchIsTouchEvent(e)&&t._touchIsEmulatedEvent(e)||(t.__pointerIsOverOrigin=!0,t._openShortly(e))})}if(t.__options.triggerClose.mouseleave||t.__options.triggerClose.touchleave&&i.hasTouchCapability){e="";t.__options.triggerClose.mouseleave&&(e+="mouseleave."+t.__namespace+"-triggerOpen "),t.__options.triggerClose.touchleave&&i.hasTouchCapability&&(e+="touchend."+t.__namespace+"-triggerOpen touchcancel."+t.__namespace+"-triggerOpen"),t._$origin.on(e,function(e){t._touchIsMeaningfulEvent(e)&&(t.__pointerIsOverOrigin=!1)})}return t},__prepareTooltip:function(){var e=this,o=e.__options.interactive?"auto":"";return e._$tooltip.attr("id",e.__namespace).css({"pointer-events":o,zIndex:e.__options.zIndex}),t.each(e.__previousThemes,function(t,o){e._$tooltip.removeClass(o)}),t.each(e.__options.theme,function(t,o){e._$tooltip.addClass(o)}),e.__previousThemes=t.merge([],e.__options.theme),e},__scrollHandler:function(e){if(this.__options.triggerClose.scroll)this._close(e);else if(a(this._$origin)&&a(this._$tooltip)){var o=null;if(e.target===i.window.document)this.__Geometry.origin.fixedLineage||this.__options.repositionOnScroll&&this.reposition(e);else{o=this.__geometry();var n=!1;if("fixed"!=this._$origin.css("position")&&this.__$originParents.each(function(e,i){var s=t(i),r=s.css("overflow-x"),a=s.css("overflow-y");if("visible"!=r||"visible"!=a){var l=i.getBoundingClientRect();if("visible"!=r&&(o.origin.windowOffset.left<l.left||o.origin.windowOffset.right>l.right))return n=!0,!1;if("visible"!=a&&(o.origin.windowOffset.top<l.top||o.origin.windowOffset.bottom>l.bottom))return n=!0,!1}if("fixed"==s.css("position"))return!1}),n)this._$tooltip.css("visibility","hidden");else if(this._$tooltip.css("visibility","visible"),this.__options.repositionOnScroll)this.reposition(e);else{var s=o.origin.offset.left-this.__Geometry.origin.offset.left,r=o.origin.offset.top-this.__Geometry.origin.offset.top;this._$tooltip.css({left:this.__lastPosition.coord.left+s,top:this.__lastPosition.coord.top+r})}}this._trigger({type:"scroll",event:e,geo:o})}return this},__stateSet:function(t){return this.__state=t,this._trigger({type:"state",state:t}),this},__timeoutsClear:function(){return clearTimeout(this.__timeouts.open),this.__timeouts.open=null,t.each(this.__timeouts.close,function(t,e){clearTimeout(e)}),this.__timeouts.close=[],this},__trackerStart:function(){var t=this,e=t._$tooltip.find(".tooltipster-content");return t.__options.trackTooltip&&(t.__contentBcr=e[0].getBoundingClientRect()),t.__tracker=setInterval(function(){if(a(t._$origin)&&a(t._$tooltip)){if(t.__options.trackOrigin){var o=t.__geometry(),i=!1;r(o.origin.size,t.__Geometry.origin.size)&&(t.__Geometry.origin.fixedLineage?r(o.origin.windowOffset,t.__Geometry.origin.windowOffset)&&(i=!0):r(o.origin.offset,t.__Geometry.origin.offset)&&(i=!0)),i||(t.__options.triggerClose.mouseleave?t._close():t.reposition())}if(t.__options.trackTooltip){var n=e[0].getBoundingClientRect();n.height===t.__contentBcr.height&&n.width===t.__contentBcr.width||(t.reposition(),t.__contentBcr=n)}}else t._close()},t.__options.trackerInterval),t},_close:function(e,o,n){var s=this,r=!0;if(s._trigger({type:"close",event:e,stop:function(){r=!1}}),r||n){o&&s.__callbacks.close.push(o),s.__callbacks.open=[],s.__timeoutsClear();var a=function(){t.each(s.__callbacks.close,function(t,o){o.call(s,s,{event:e,origin:s._$origin[0]})}),s.__callbacks.close=[]};if("closed"!=s.__state){var l=!0,c=(new Date).getTime()+s.__options.animationDuration[1];if("disappearing"==s.__state&&c>s.__closingTime&&s.__options.animationDuration[1]>0&&(l=!1),l){s.__closingTime=c,"disappearing"!=s.__state&&s.__stateSet("disappearing");var d=function(){clearInterval(s.__tracker),s._trigger({type:"closing",event:e}),s._$tooltip.off("."+s.__namespace+"-triggerClose").removeClass("tooltipster-dying"),t(i.window).off("."+s.__namespace+"-triggerClose"),s.__$originParents.each(function(e,o){t(o).off("scroll."+s.__namespace+"-triggerClose")}),s.__$originParents=null,t(i.window.document.body).off("."+s.__namespace+"-triggerClose"),s._$origin.off("."+s.__namespace+"-triggerClose"),s._off("dismissable"),s.__stateSet("closed"),s._trigger({type:"after",event:e}),s.__options.functionAfter&&s.__options.functionAfter.call(s,s,{event:e,origin:s._$origin[0]}),a()};i.hasTransitions?(s._$tooltip.css({"-moz-animation-duration":s.__options.animationDuration[1]+"ms","-ms-animation-duration":s.__options.animationDuration[1]+"ms","-o-animation-duration":s.__options.animationDuration[1]+"ms","-webkit-animation-duration":s.__options.animationDuration[1]+"ms","animation-duration":s.__options.animationDuration[1]+"ms","transition-duration":s.__options.animationDuration[1]+"ms"}),s._$tooltip.clearQueue().removeClass("tooltipster-show").addClass("tooltipster-dying"),s.__options.animationDuration[1]>0&&s._$tooltip.delay(s.__options.animationDuration[1]),s._$tooltip.queue(d)):s._$tooltip.stop().fadeOut(s.__options.animationDuration[1],d)}}else a()}return s},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_open:function(e,o){var n=this;if(!n.__destroying&&a(n._$origin)&&n.__enabled){var s=!0;if("closed"==n.__state&&(n._trigger({type:"before",event:e,stop:function(){s=!1}}),s&&n.__options.functionBefore&&(s=n.__options.functionBefore.call(n,n,{event:e,origin:n._$origin[0]}))),!1!==s&&null!==n.__Content){o&&n.__callbacks.open.push(o),n.__callbacks.close=[],n.__timeoutsClear();var r,l=function(){"stable"!=n.__state&&n.__stateSet("stable"),t.each(n.__callbacks.open,function(t,e){e.call(n,n,{origin:n._$origin[0],tooltip:n._$tooltip[0]})}),n.__callbacks.open=[]};if("closed"!==n.__state)r=0,"disappearing"===n.__state?(n.__stateSet("appearing"),i.hasTransitions?(n._$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-show"),n.__options.animationDuration[0]>0&&n._$tooltip.delay(n.__options.animationDuration[0]),n._$tooltip.queue(l)):n._$tooltip.stop().fadeIn(l)):"stable"==n.__state&&l();else{if(n.__stateSet("appearing"),r=n.__options.animationDuration[0],n.__contentInsert(),n.reposition(e,!0),i.hasTransitions?(n._$tooltip.addClass("tooltipster-"+n.__options.animation).addClass("tooltipster-initial").css({"-moz-animation-duration":n.__options.animationDuration[0]+"ms","-ms-animation-duration":n.__options.animationDuration[0]+"ms","-o-animation-duration":n.__options.animationDuration[0]+"ms","-webkit-animation-duration":n.__options.animationDuration[0]+"ms","animation-duration":n.__options.animationDuration[0]+"ms","transition-duration":n.__options.animationDuration[0]+"ms"}),setTimeout(function(){"closed"!=n.__state&&(n._$tooltip.addClass("tooltipster-show").removeClass("tooltipster-initial"),n.__options.animationDuration[0]>0&&n._$tooltip.delay(n.__options.animationDuration[0]),n._$tooltip.queue(l))},0)):n._$tooltip.css("display","none").fadeIn(n.__options.animationDuration[0],l),n.__trackerStart(),t(i.window).on("resize."+n.__namespace+"-triggerClose",function(e){var o=t(document.activeElement);(o.is("input")||o.is("textarea"))&&t.contains(n._$tooltip[0],o[0])||n.reposition(e)}).on("scroll."+n.__namespace+"-triggerClose",function(t){n.__scrollHandler(t)}),n.__$originParents=n._$origin.parents(),n.__$originParents.each(function(e,o){t(o).on("scroll."+n.__namespace+"-triggerClose",function(t){n.__scrollHandler(t)})}),n.__options.triggerClose.mouseleave||n.__options.triggerClose.touchleave&&i.hasTouchCapability){n._on("dismissable",function(t){t.dismissable?t.delay?(p=setTimeout(function(){n._close(t.event)},t.delay),n.__timeouts.close.push(p)):n._close(t):clearTimeout(p)});var c=n._$origin,d="",u="",p=null;n.__options.interactive&&(c=c.add(n._$tooltip)),n.__options.triggerClose.mouseleave&&(d+="mouseenter."+n.__namespace+"-triggerClose ",u+="mouseleave."+n.__namespace+"-triggerClose "),n.__options.triggerClose.touchleave&&i.hasTouchCapability&&(d+="touchstart."+n.__namespace+"-triggerClose",u+="touchend."+n.__namespace+"-triggerClose touchcancel."+n.__namespace+"-triggerClose"),c.on(u,function(t){if(n._touchIsTouchEvent(t)||!n._touchIsEmulatedEvent(t)){var e="mouseleave"==t.type?n.__options.delay:n.__options.delayTouch;n._trigger({delay:e[1],dismissable:!0,event:t,type:"dismissable"})}}).on(d,function(t){!n._touchIsTouchEvent(t)&&n._touchIsEmulatedEvent(t)||n._trigger({dismissable:!1,event:t,type:"dismissable"})})}n.__options.triggerClose.originClick&&n._$origin.on("click."+n.__namespace+"-triggerClose",function(t){n._touchIsTouchEvent(t)||n._touchIsEmulatedEvent(t)||n._close(t)}),(n.__options.triggerClose.click||n.__options.triggerClose.tap&&i.hasTouchCapability)&&setTimeout(function(){if("closed"!=n.__state){var e="",o=t(i.window.document.body);n.__options.triggerClose.click&&(e+="click."+n.__namespace+"-triggerClose "),n.__options.triggerClose.tap&&i.hasTouchCapability&&(e+="touchend."+n.__namespace+"-triggerClose"),o.on(e,function(e){n._touchIsMeaningfulEvent(e)&&(n._touchRecordEvent(e),n.__options.interactive&&t.contains(n._$tooltip[0],e.target)||n._close(e))}),n.__options.triggerClose.tap&&i.hasTouchCapability&&o.on("touchstart."+n.__namespace+"-triggerClose",function(t){n._touchRecordEvent(t)})}},0),n._trigger("ready"),n.__options.functionReady&&n.__options.functionReady.call(n,n,{origin:n._$origin[0],tooltip:n._$tooltip[0]})}if(n.__options.timer>0){p=setTimeout(function(){n._close()},n.__options.timer+r);n.__timeouts.close.push(p)}}}return n},_openShortly:function(t){var e=this,o=!0;if("stable"!=e.__state&&"appearing"!=e.__state&&!e.__timeouts.open&&(e._trigger({type:"start",event:t,stop:function(){o=!1}}),o)){var i=0==t.type.indexOf("touch")?e.__options.delayTouch:e.__options.delay;i[0]?e.__timeouts.open=setTimeout(function(){e.__timeouts.open=null,e.__pointerIsOverOrigin&&e._touchIsMeaningfulEvent(t)?(e._trigger("startend"),e._open(t)):e._trigger("startcancel")},i[0]):(e._trigger("startend"),e._open(t))}return e},_optionsExtract:function(e,o){var i=this,n=t.extend(!0,{},o),s=i.__options[e];return s||(s={},t.each(o,function(t,e){var o=i.__options[t];void 0!==o&&(s[t]=o)})),t.each(n,function(e,o){void 0!==s[e]&&("object"!=typeof o||o instanceof Array||null==o||"object"!=typeof s[e]||s[e]instanceof Array||null==s[e]?n[e]=s[e]:t.extend(n[e],s[e]))}),n},_plug:function(e){var o=t.tooltipster._plugin(e);if(!o)throw new Error('The "'+e+'" plugin is not defined');return o.instance&&t.tooltipster.__bridge(o.instance,this,o.name),this},_touchIsEmulatedEvent:function(t){for(var e=!1,o=(new Date).getTime(),i=this.__touchEvents.length-1;i>=0;i--){var n=this.__touchEvents[i];if(!(o-n.time<500))break;n.target===t.target&&(e=!0)}return e},_touchIsMeaningfulEvent:function(t){return this._touchIsTouchEvent(t)&&!this._touchSwiped(t.target)||!this._touchIsTouchEvent(t)&&!this._touchIsEmulatedEvent(t)},_touchIsTouchEvent:function(t){return 0==t.type.indexOf("touch")},_touchRecordEvent:function(t){return this._touchIsTouchEvent(t)&&(t.time=(new Date).getTime(),this.__touchEvents.push(t)),this},_touchSwiped:function(t){for(var e=!1,o=this.__touchEvents.length-1;o>=0;o--){var i=this.__touchEvents[o];if("touchmove"==i.type){e=!0;break}if("touchstart"==i.type&&t===i.target)break}return e},_trigger:function(){var e=Array.prototype.slice.apply(arguments);return"string"==typeof e[0]&&(e[0]={type:e[0]}),e[0].instance=this,e[0].origin=this._$origin?this._$origin[0]:null,e[0].tooltip=this._$tooltip?this._$tooltip[0]:null,this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,e),t.tooltipster._trigger.apply(t.tooltipster,e),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,e),this},_unplug:function(e){var o=this;if(o[e]){var i=t.tooltipster._plugin(e);i.instance&&t.each(i.instance,function(t,i){o[t]&&o[t].bridged===o[e]&&delete o[t]}),o[e].__destroy&&o[e].__destroy(),delete o[e]}return o},close:function(t){return this.__destroyed?this.__destroyError():this._close(null,t),this},content:function(t){var e=this;if(void 0===t)return e.__Content;if(e.__destroyed)e.__destroyError();else if(e.__contentSet(t),null!==e.__Content){if("closed"!==e.__state&&(e.__contentInsert(),e.reposition(),e.__options.updateAnimation))if(i.hasTransitions){var o=e.__options.updateAnimation;e._$tooltip.addClass("tooltipster-update-"+o),setTimeout(function(){"closed"!=e.__state&&e._$tooltip.removeClass("tooltipster-update-"+o)},1e3)}else e._$tooltip.fadeTo(200,.5,function(){"closed"!=e.__state&&e._$tooltip.fadeTo(200,1)})}else e._close();return e},destroy:function(){var e=this;if(e.__destroyed)e.__destroyError();else{"closed"!=e.__state?e.option("animationDuration",0)._close(null,null,!0):e.__timeoutsClear(),e._trigger("destroy"),e.__destroyed=!0,e._$origin.removeData(e.__namespace).off("."+e.__namespace+"-triggerOpen"),t(i.window.document.body).off("."+e.__namespace+"-triggerOpen");var o=e._$origin.data("tooltipster-ns");if(o)if(1===o.length){var n=null;"previous"==e.__options.restoration?n=e._$origin.data("tooltipster-initialTitle"):"current"==e.__options.restoration&&(n="string"==typeof e.__Content?e.__Content:t("<div></div>").append(e.__Content).html()),n&&e._$origin.attr("title",n),e._$origin.removeClass("tooltipstered"),e._$origin.removeData("tooltipster-ns").removeData("tooltipster-initialTitle")}else o=t.grep(o,function(t,o){return t!==e.__namespace}),e._$origin.data("tooltipster-ns",o);e._trigger("destroyed"),e._off(),e.off(),e.__Content=null,e.__$emitterPrivate=null,e.__$emitterPublic=null,e.__options.parent=null,e._$origin=null,e._$tooltip=null,t.tooltipster.__instancesLatestArr=t.grep(t.tooltipster.__instancesLatestArr,function(t,o){return e!==t}),clearInterval(e.__garbageCollector)}return e},disable:function(){return this.__destroyed?(this.__destroyError(),this):(this._close(),this.__enabled=!1,this)},elementOrigin:function(){if(!this.__destroyed)return this._$origin[0];this.__destroyError()},elementTooltip:function(){return this._$tooltip?this._$tooltip[0]:null},enable:function(){return this.__enabled=!0,this},hide:function(t){return this.close(t)},instance:function(){return this},off:function(){return this.__destroyed||this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},one:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},open:function(t){return this.__destroyed?this.__destroyError():this._open(null,t),this},option:function(e,o){return void 0===o?this.__options[e]:(this.__destroyed?this.__destroyError():(this.__options[e]=o,this.__optionsFormat(),t.inArray(e,["trigger","triggerClose","triggerOpen"])>=0&&this.__prepareOrigin(),"selfDestruction"===e&&this.__prepareGC()),this)},reposition:function(t,e){return this.__destroyed?this.__destroyError():"closed"!=this.__state&&a(this._$origin)&&(e||a(this._$tooltip))&&(e||this._$tooltip.detach(),this.__Geometry=this.__geometry(),this._trigger({type:"reposition",event:t,helper:{geo:this.__Geometry}})),this},show:function(t){return this.open(t)},status:function(){return{destroyed:this.__destroyed,enabled:this.__enabled,open:"closed"!==this.__state,state:this.__state}},triggerHandler:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}},t.fn.tooltipster=function(){var o=Array.prototype.slice.apply(arguments);if(0===this.length)return this;if("string"==typeof o[0]){var i="#*$~&";return this.each(function(){var e=t(this).data("tooltipster-ns"),n=e?t(this).data(e[0]):null;if(!n)throw new Error("You called Tooltipster's \""+o[0]+'" method on an uninitialized element');if("function"!=typeof n[o[0]])throw new Error('Unknown method "'+o[0]+'"');this.length>1&&"content"==o[0]&&(o[1]instanceof t||"object"==typeof o[1]&&null!=o[1]&&o[1].tagName)&&!n.__options.contentCloning&&n.__options.debug;var s=n[o[0]](o[1],o[2]);if(s!==n||"instance"===o[0])return i=s,!1}),"#*$~&"!==i?i:this}t.tooltipster.__instancesLatestArr=[];var n=o[0]&&void 0!==o[0].multiple,s=n&&o[0].multiple||!n&&e.multiple,r=o[0]&&void 0!==o[0].content,a=r&&o[0].content||!r&&e.content,l=o[0]&&void 0!==o[0].contentCloning,c=(l&&o[0].contentCloning,o[0]&&void 0!==o[0].debug);c&&o[0].debug;return this.length>1&&(a instanceof t||"object"==typeof a&&null!=a&&a.tagName),this.each(function(){var e=!1,i=t(this),n=i.data("tooltipster-ns"),r=null;n?s&&(e=!0):e=!0,e&&(r=new t.Tooltipster(this,o[0]),n||(n=[]),n.push(r.__namespace),i.data("tooltipster-ns",n),i.data(r.__namespace,r),r.__options.functionInit&&r.__options.functionInit.call(r,r,{origin:this}),r._trigger("init")),t.tooltipster.__instancesLatestArr.push(r)}),this},s.prototype={__init:function(e){this.__$tooltip=e,this.__$tooltip.css({left:0,overflow:"hidden",position:"absolute",top:0}).find(".tooltipster-content").css("overflow","auto"),this.$container=t('<div class="tooltipster-ruler"></div>').append(this.__$tooltip).appendTo(i.window.document.body)},__forceRedraw:function(){var t=this.__$tooltip.parent();this.__$tooltip.detach(),this.__$tooltip.appendTo(t)},constrain:function(t,e){return this.constraints={width:t,height:e},this.__$tooltip.css({display:"block",height:"",overflow:"auto",width:t}),this},destroy:function(){this.__$tooltip.detach().find(".tooltipster-content").css({display:"",overflow:""}),this.$container.remove()},free:function(){return this.constraints=null,this.__$tooltip.css({display:"",height:"",overflow:"visible",width:""}),this},measure:function(){this.__forceRedraw();var t=this.__$tooltip[0].getBoundingClientRect(),e={size:{height:t.height||t.bottom-t.top,width:t.width||t.right-t.left}};if(this.constraints){var o=this.__$tooltip.find(".tooltipster-content"),n=this.__$tooltip.outerHeight(),s=o[0].getBoundingClientRect(),r={height:n<=this.constraints.height,width:t.width<=this.constraints.width&&s.width>=o[0].scrollWidth-1};e.fits=r.height&&r.width}return i.IE&&i.IE<=11&&e.size.width!==i.window.document.documentElement.clientWidth&&(e.size.width=Math.ceil(e.size.width)+1),e}};var l=navigator.userAgent.toLowerCase();-1!=l.indexOf("msie")?i.IE=parseInt(l.split("msie")[1]):-1!==l.toLowerCase().indexOf("trident")&&-1!==l.indexOf(" rv:11")?i.IE=11:-1!=l.toLowerCase().indexOf("edge/")&&(i.IE=parseInt(l.toLowerCase().split("edge/")[1])),t.tooltipster._plugin({name:"tooltipster.sideTip",instance:{__defaults:function(){return{arrow:!0,distance:6,functionPosition:null,maxWidth:null,minIntersection:16,minWidth:0,position:null,side:"top",viewportAware:!0}},__init:function(t){var e=this;e.__instance=t,e.__namespace="tooltipster-sideTip-"+Math.round(1e6*Math.random()),e.__previousState="closed",e.__options,e.__optionsFormat(),e.__instance._on("state."+e.__namespace,function(t){"closed"==t.state?e.__close():"appearing"==t.state&&"closed"==e.__previousState&&e.__create(),e.__previousState=t.state}),e.__instance._on("options."+e.__namespace,function(){e.__optionsFormat()}),e.__instance._on("reposition."+e.__namespace,function(t){e.__reposition(t.event,t.helper)})},__close:function(){this.__instance.content()instanceof t&&this.__instance.content().detach(),this.__instance._$tooltip.remove(),this.__instance._$tooltip=null},__create:function(){var e=t('<div class="tooltipster-base tooltipster-sidetip"><div class="tooltipster-box"><div class="tooltipster-content"></div></div><div class="tooltipster-arrow"><div class="tooltipster-arrow-uncropped"><div class="tooltipster-arrow-border"></div><div class="tooltipster-arrow-background"></div></div></div></div>');this.__options.arrow||e.find(".tooltipster-box").css("margin",0).end().find(".tooltipster-arrow").hide(),this.__options.minWidth&&e.css("min-width",this.__options.minWidth+"px"),this.__options.maxWidth&&e.css("max-width",this.__options.maxWidth+"px"),this.__instance._$tooltip=e,this.__instance._trigger("created")},__destroy:function(){this.__instance._off("."+self.__namespace)},__optionsFormat:function(){if(this.__options=this.__instance._optionsExtract("tooltipster.sideTip",this.__defaults()),this.__options.position&&(this.__options.side=this.__options.position),"object"!=typeof this.__options.distance&&(this.__options.distance=[this.__options.distance]),this.__options.distance.length<4&&(void 0===this.__options.distance[1]&&(this.__options.distance[1]=this.__options.distance[0]),void 0===this.__options.distance[2]&&(this.__options.distance[2]=this.__options.distance[0]),void 0===this.__options.distance[3]&&(this.__options.distance[3]=this.__options.distance[1])),this.__options.distance={top:this.__options.distance[0],right:this.__options.distance[1],bottom:this.__options.distance[2],left:this.__options.distance[3]},"string"==typeof this.__options.side){this.__options.side=[this.__options.side,{top:"bottom",right:"left",bottom:"top",left:"right"}[this.__options.side]],"left"==this.__options.side[0]||"right"==this.__options.side[0]?this.__options.side.push("top","bottom"):this.__options.side.push("right","left")}6===t.tooltipster._env.IE&&!0!==this.__options.arrow&&(this.__options.arrow=!1)},__reposition:function(e,o){var i,n=this,s=n.__targetFind(o),r=[];n.__instance._$tooltip.detach();var a=n.__instance._$tooltip.clone(),l=t.tooltipster._getRuler(a),c=!1,d=n.__instance.option("animation");switch(d&&a.removeClass("tooltipster-"+d),t.each(["window","document"],function(i,d){var u=null;if(n.__instance._trigger({container:d,helper:o,satisfied:c,takeTest:function(t){u=t},results:r,type:"positionTest"}),1==u||0!=u&&0==c&&("window"!=d||n.__options.viewportAware))for(i=0;i<n.__options.side.length;i++){var p={horizontal:0,vertical:0},f=n.__options.side[i];"top"==f||"bottom"==f?p.vertical=n.__options.distance[f]:p.horizontal=n.__options.distance[f],n.__sideChange(a,f),t.each(["natural","constrained"],function(t,i){if(u=null,n.__instance._trigger({container:d,event:e,helper:o,mode:i,results:r,satisfied:c,side:f,takeTest:function(t){u=t},type:"positionTest"}),1==u||0!=u&&0==c){var a={container:d,distance:p,fits:null,mode:i,outerSize:null,side:f,size:null,target:s[f],whole:null},m=("natural"==i?l.free():l.constrain(o.geo.available[d][f].width-p.horizontal,o.geo.available[d][f].height-p.vertical)).measure();if(a.size=m.size,a.outerSize={height:m.size.height+p.vertical,width:m.size.width+p.horizontal},"natural"==i?o.geo.available[d][f].width>=a.outerSize.width&&o.geo.available[d][f].height>=a.outerSize.height?a.fits=!0:a.fits=!1:a.fits=m.fits,"window"==d&&(a.fits?a.whole="top"==f||"bottom"==f?o.geo.origin.windowOffset.right>=n.__options.minIntersection&&o.geo.window.size.width-o.geo.origin.windowOffset.left>=n.__options.minIntersection:o.geo.origin.windowOffset.bottom>=n.__options.minIntersection&&o.geo.window.size.height-o.geo.origin.windowOffset.top>=n.__options.minIntersection:a.whole=!1),r.push(a),a.whole)c=!0;else if("natural"==a.mode&&(a.fits||a.size.width<=o.geo.available[d][f].width))return!1}})}}),n.__instance._trigger({edit:function(t){r=t},event:e,helper:o,results:r,type:"positionTested"}),r.sort(function(t,e){return t.whole&&!e.whole?-1:!t.whole&&e.whole?1:t.whole&&e.whole?(o=n.__options.side.indexOf(t.side))<(i=n.__options.side.indexOf(e.side))?-1:o>i?1:"natural"==t.mode?-1:1:t.fits&&!e.fits?-1:!t.fits&&e.fits?1:t.fits&&e.fits?(o=n.__options.side.indexOf(t.side))<(i=n.__options.side.indexOf(e.side))?-1:o>i?1:"natural"==t.mode?-1:1:"document"==t.container&&"bottom"==t.side&&"natural"==t.mode?-1:1;var o,i}),(i=r[0]).coord={},i.side){case"left":case"right":i.coord.top=Math.floor(i.target-i.size.height/2);break;case"bottom":case"top":i.coord.left=Math.floor(i.target-i.size.width/2)}switch(i.side){case"left":i.coord.left=o.geo.origin.windowOffset.left-i.outerSize.width;break;case"right":i.coord.left=o.geo.origin.windowOffset.right+i.distance.horizontal;break;case"top":i.coord.top=o.geo.origin.windowOffset.top-i.outerSize.height;break;case"bottom":i.coord.top=o.geo.origin.windowOffset.bottom+i.distance.vertical}"window"==i.container?"top"==i.side||"bottom"==i.side?i.coord.left<0?o.geo.origin.windowOffset.right-this.__options.minIntersection>=0?i.coord.left=0:i.coord.left=o.geo.origin.windowOffset.right-this.__options.minIntersection-1:i.coord.left>o.geo.window.size.width-i.size.width&&(o.geo.origin.windowOffset.left+this.__options.minIntersection<=o.geo.window.size.width?i.coord.left=o.geo.window.size.width-i.size.width:i.coord.left=o.geo.origin.windowOffset.left+this.__options.minIntersection+1-i.size.width):i.coord.top<0?o.geo.origin.windowOffset.bottom-this.__options.minIntersection>=0?i.coord.top=0:i.coord.top=o.geo.origin.windowOffset.bottom-this.__options.minIntersection-1:i.coord.top>o.geo.window.size.height-i.size.height&&(o.geo.origin.windowOffset.top+this.__options.minIntersection<=o.geo.window.size.height?i.coord.top=o.geo.window.size.height-i.size.height:i.coord.top=o.geo.origin.windowOffset.top+this.__options.minIntersection+1-i.size.height):(i.coord.left>o.geo.window.size.width-i.size.width&&(i.coord.left=o.geo.window.size.width-i.size.width),i.coord.left<0&&(i.coord.left=0)),n.__sideChange(a,i.side),o.tooltipClone=a[0],o.tooltipParent=n.__instance.option("parent").parent[0],o.mode=i.mode,o.whole=i.whole,o.origin=n.__instance._$origin[0],o.tooltip=n.__instance._$tooltip[0],delete i.container,delete i.fits,delete i.mode,delete i.outerSize,delete i.whole,i.distance=i.distance.horizontal||i.distance.vertical;var u,p,f,m=t.extend(!0,{},i);if(n.__instance._trigger({edit:function(t){i=t},event:e,helper:o,position:m,type:"position"}),n.__options.functionPosition){var _=n.__options.functionPosition.call(n,n.__instance,o,m);_&&(i=_)}l.destroy(),"top"==i.side||"bottom"==i.side?(u={prop:"left",val:i.target-i.coord.left},p=i.size.width-this.__options.minIntersection):(u={prop:"top",val:i.target-i.coord.top},p=i.size.height-this.__options.minIntersection),u.val<this.__options.minIntersection?u.val=this.__options.minIntersection:u.val>p&&(u.val=p),f=o.geo.origin.fixedLineage?o.geo.origin.windowOffset:{left:o.geo.origin.windowOffset.left+o.geo.window.scroll.left,top:o.geo.origin.windowOffset.top+o.geo.window.scroll.top},i.coord={left:f.left+(i.coord.left-o.geo.origin.windowOffset.left),top:f.top+(i.coord.top-o.geo.origin.windowOffset.top)},n.__sideChange(n.__instance._$tooltip,i.side),o.geo.origin.fixedLineage?n.__instance._$tooltip.css("position","fixed"):n.__instance._$tooltip.css("position",""),n.__instance._$tooltip.css({left:i.coord.left,top:i.coord.top,height:i.size.height,width:i.size.width}).find(".tooltipster-arrow").css({left:"",top:""}).css(u.prop,u.val),n.__instance._$tooltip.appendTo(n.__instance.option("parent")),n.__instance._trigger({type:"repositioned",event:e,position:i})},__sideChange:function(t,e){t.removeClass("tooltipster-bottom").removeClass("tooltipster-left").removeClass("tooltipster-right").removeClass("tooltipster-top").addClass("tooltipster-"+e)},__targetFind:function(t){var e={},o=this.__instance._$origin[0].getClientRects();o.length>1&&(1==this.__instance._$origin.css("opacity")&&(this.__instance._$origin.css("opacity",.99),o=this.__instance._$origin[0].getClientRects(),this.__instance._$origin.css("opacity",1)));if(o.length<2)e.top=Math.floor(t.geo.origin.windowOffset.left+t.geo.origin.size.width/2),e.bottom=e.top,e.left=Math.floor(t.geo.origin.windowOffset.top+t.geo.origin.size.height/2),e.right=e.left;else{var i=o[0];e.top=Math.floor(i.left+(i.right-i.left)/2),i=o.length>2?o[Math.ceil(o.length/2)-1]:o[0],e.right=Math.floor(i.top+(i.bottom-i.top)/2),i=o[o.length-1],e.bottom=Math.floor(i.left+(i.right-i.left)/2),i=o.length>2?o[Math.ceil((o.length+1)/2)-1]:o[o.length-1],e.left=Math.floor(i.top+(i.bottom-i.top)/2)}return e}}})},"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t)}):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}),jQuery(document).ready(function($){var fchunker_upload={fchunker:function(t){$.extend(t),$.upId&&$.upUrl&&($.domHtml=$("#"+$.upId).html(),$.upInputId=$.upId+"_input")},fchunker_limitFileSize:function(t,e){for(var o=["KB","MB","GB"],i=e.toUpperCase(),n=0,s=0;s<o.length;s++){var r=i.indexOf(o[s]);if(r>-1){n=parseInt(i.substr(0,r))*Math.pow(1024,s+1);break}}return!(t.size>n)},upErrorMsg:function(t){$.upError=t},upStop:function(t){$.upError=t},upStatus:function(){return!$.upError||("function"==typeof $.upStop&&$.upStop($.upError),!1)},fchunker_getPercent:function(t,e){if(t=parseFloat(t),e=parseFloat(e),isNaN(t)||isNaN(e))return"-";return e<=0?0:Math.round(t/e*1e4)/100},fchunker_upload:function(t,e){$.upError="",$.tempFile=$("#"+$.upInputId)[0].files[0],"file"==t&&($.tempFile=e);var o=$.tempFile;if(!o)return!1;"function"==typeof $.upStart&&$.upStart();var i=o.name,n=i.lastIndexOf("."),s=i.length,r=i.substring(n+1,s);if($.upType&&(uptype=$.upType.split(","),-1==$.inArray(r,uptype)&&($.upError="Type error: Error-"+r)),$.upMaxSize&&($.fchunker_limitFileSize(o,$.upMaxSize+"MB")||($.upError="Error")),0==$.upStatus())return!1;$.taskStart=+new Date,setTimeout("jQuery.fchunker_upload_core()","100")},fchunker_upload_core:function(){var file=$.tempFile;if(!file)return!1;$.upShardSize||($.upShardSize=2);for(var filename=file.name,size=file.size,index1=filename.lastIndexOf("."),index2=filename.length,suffix=filename.substring(index1+1,index2),shardSize=1024*$.upShardSize*1024,succeed=0,shardCount=Math.ceil(size/shardSize),re=[],start,end=0,i=0;i<shardCount;++i)re[i]=[],start=i*shardSize,end=Math.min(size,start+shardSize),re[i].file_data=file.slice(start,end),re[i].file_name=filename,re[i].file_size=size;const URL=$.upUrl;var i2=0,i3=1,fcs=Array(),xhr=new XMLHttpRequest;function ajaxStack(stack){if(0!=$.upStatus()){var form=new FormData;stack[i2]&&(fcs=stack[i2],form.append("file_data",fcs.file_data),form.append("file_name",fcs.file_name),form.append("file_size",fcs.file_size),form.append("file_total",shardCount),form.append("file_index",i3),form.append("taskStart",$.taskStart),form.append("action","backup_migration"),form.append("token","bmi"),form.append("f","upload-backup"),xhr.open("POST",URL,!0),xhr.setRequestHeader("X-Requested-With","XMLHttpRequest"),xhr.setRequestHeader("HTTP_X_REQUESTED_WITH","XMLHttpRequest"),xhr.onload=function(){ajaxStack(stack)},xhr.onreadystatechange=function(){if(0!=$.upStatus()&&4==xhr.readyState&&200==xhr.status){var data=xhr.responseText?eval("("+xhr.responseText+")"):"";++succeed;var cent=$.fchunker_getPercent(succeed,shardCount);"function"==typeof $.upEvent&&$.upEvent(cent),100==cent?setTimeout(function(){"function"==typeof $.upCallBack&&$.upCallBack(data)},500):"function"==typeof $.upCallBack&&$.upCallBack(data)}},xhr.send(form),i2++,i3++,form.delete("file_data"),form.delete("file_name"),form.delete("file_size"),form.delete("file_total"),form.delete("taskStart"),form.delete("file_index"),form.delete("action"),form.delete("token"),form.delete("f"))}}ajaxStack(re),re=null,file=null}};$.extend(fchunker_upload)}),jQuery(window).on("load",function(){setTimeout(function(){jQuery("#bmi").css({opacity:0}),jQuery("#bmi-preload").css({opacity:1}),jQuery("#bmi-preload").animate({opacity:0},150,function(){jQuery("#bmi-preload").remove(),jQuery("#bmi").css({display:"block"}),jQuery.bmi.dropdowns.init(),setTimeout(function(){jQuery("#bmi").animate({opacity:1},350),jQuery("#bmi_carrousel").show(200)},100)})},50)}),jQuery(document).ready(function(t){let e=!1;t.extend({bmi:{clipboard:function(e){try{const o=document.createElement("textarea");return o.value=e,o.setAttribute("readonly",""),o.style.position="absolute",o.style.left="-9999px",document.body.appendChild(o),o.select(),document.execCommand("copy"),document.body.removeChild(o),t.bmi.alert("success",t("#bmi-success-copy").text(),3e3),!0}catch(e){return console.log(e),t.bmi.alert("warning",t("#bmi-failed-copy").text(),3e3),!1}},alert:function(e="default",o="---",i=7e3){t(".bmi-notification-box").length<=0&&t("body").find("#bmi").prepend(t('<div class="bmi-notification-box"></div>')),e="default"==e?"":"success"==e?" is-success":"warning"==e?" is-warning":"error"==e?" is-danger":" is-info";let n=Math.floor(Math.random()*Math.floor(64e3)),s=`<div style="display: none;" id="ntf-${n}" class="bmi-notification${e}">\n          <button class="bmi-times-button" onclick="jQuery.bmi.hideAlert(this)">&times;</button>\n          <div class="bmi-cf">\n            <div class="bmi-left bmi-alert-icon"><div class="bmi-icon-bg"></div></div>\n            <div class="bmi-left bmi-alert-msg-title">\n              <div class="bmi-title${e}">Backup Migration</div>\n              <div>${o}</div>\n            </div>\n          </div>\n        </div>`;t(".bmi-notification-box").prepend(s);let r=t(`#ntf-${n}`);r.css({opacity:0,display:"block"});let a=r.outerWidth();r.outerHeight();r.css({right:"-35vw","font-size":"0px",width:0,padding:0,opacity:"0"}),r.animate({right:"15px",width:a,padding:"1rem 2rem 1rem 1.5rem",opacity:"1"},{duration:200,queue:!1}),r.animate({"font-size":"16px"},{duration:300,queue:!1}),setTimeout(()=>{t(`#ntf-${n}`).css({width:""})},250),setTimeout(()=>{r.animate({"font-size":"0px"},{duration:200,queue:!1}),r.animate({right:"-35vw",height:0,width:0,margin:0,padding:0,opacity:"0"},300,function(){r.remove()})},i)},_msg:function(e){"msg"==e.status&&(void 0===e.level&&(e.level="info"),t.bmi.alert(e.level,e.why,3e3),console.log("Backup-migration: ","["+e.level.toUpperCase()+"]",e.why))},hideAlert:function(e){let o=t(e).parents(".bmi-notification");o.animate({"font-size":"0px"},{duration:200,queue:!1}),o.animate({right:"-35vw",height:0,width:0,margin:0,padding:0,opacity:"0"},300,function(){o.remove()})},modal:function(e=!1){let o=!1;return 0!=e&&(o=document.getElementById(e)),{clearModal:function(){o.querySelectorAll(".customselect").forEach(function(t){t.classList.remove("active")}),o.querySelectorAll('input[type="text"]').forEach(function(t){t.value="",t.setAttribute("value","")})},open:function(e=function(){}){o.classList.add("before-open"),setTimeout(function(){o.classList.add("open"),t("html")[0].style.overflowY="hidden",setTimeout(e,410)},10)},close:function(e=function(){}){o.offsetWidth>0&&o.offsetHeight>0?(o.classList.add("before-close"),setTimeout(function(){o.classList.add("closed"),setTimeout(function(){o.classList.remove("before-open"),o.classList.remove("open"),o.classList.remove("before-close"),o.classList.remove("closed"),t.bmi.modal(o.id).clearModal(),e()},410)},10)):(o.classList.remove("before-open"),o.classList.remove("open"),o.classList.remove("before-close"),o.classList.remove("closed"),e()),t("html")[0].style.overflowY="auto"},closeAll:function(){document.querySelectorAll(".modal").forEach(function(e){t.bmi.modal(e.id).close()}),t("html")[0].style.overflowY="auto"}}},json:function(e){return new Promise(function(o,i){try{return o(JSON.parse(e))}catch(n){if("string"!=typeof e)return i(!1);{let n=t.bmi.reverse(e).indexOf("}");n=0==n?e.length:-n,e=e.slice(e.indexOf("{"),n);try{return o(JSON.parse(e))}catch(t){return i(!1)}}}})},reverse:function(e){return"string"==typeof e?""===e?"":t.bmi.reverse(e.substr(1))+e.charAt(0):e},ajax:function(e,o={}){return new Promise(function(i,n){function s(t,o){o||(o=t),console.log("------- BACKUP MIGRATION ERROR START -------"),!1===t?(console.log("Call: ",e),console.log("Status: ",o.status),console.log("Error: ",o.responseText)):console.log(o),console.log("-------- BACKUP MIGRATION ERROR END --------\n\n"),n(t,o.responseText)}o.action="backup_migration",o.token="bmi",o.f=e,t.post(ajaxurl,o).done(e=>{t.bmi.json(e).then(function(t){i(t)}).catch(function(t){s("json")})}).fail(t=>{s(!1,t)})})},tooltips:{init:function(){let e={delay:200,debug:!1,delayTouch:[100,200],interactive:!1,distance:0,side:"top",contentAsHTML:!1,maxWidth:460,triggerOpen:{mouseenter:!0,touchstart:!0},triggerClose:{mouseleave:!0,click:!0,tap:!0},theme:["bmi-tooltip","bmi-tt-default","bmi-tt-default-customized"],repositionOnScroll:!0,functionReady:function(){setTimeout(()=>{let e=t.tooltipster.instances();for(instance in e)e[instance].reposition()},10)}},o=t(".tooltip"),i=t(".tooltip-html"),n=t(".premium-wrapper"),s=JSON.parse(JSON.stringify(e));s.contentAsHTML=!0,s.interactive=!0;for(let i=0;i<o.length;++i){let n=o[i],s=n.getAttribute("data-top"),r=n.getAttribute("side"),a=JSON.parse(JSON.stringify(e));a.content=n.getAttribute("tooltip"),s&&(a.distance=parseInt(s)),r&&r.trim().length>0&&(a.side=r),t(n).tooltipster(a)}for(let e=0;e<i.length;++e){let o=i[e],n=o.getAttribute("side"),r=JSON.parse(JSON.stringify(s));r.content=o.getAttribute("tooltip"),n&&n.trim().length>0&&(r.side=n),t(o).tooltipster(r)}for(let o=0;o<n.length;++o){let i=n[o],s=JSON.parse(JSON.stringify(e));s.contentAsHTML=!0,s.interactive=!0,s.maxWidth=500,i.getAttribute("tooltip")?s.content=i.getAttribute("tooltip"):i.getAttribute("data-ready")?s.content=t("#premium-tooltip-pre")[0].innerHTML.trim()+" "+i.getAttribute("data-ready").trim()+" "+t("#premium-tooltip-r")[0].innerHTML.trim():s.content=t("#premium-tooltip")[0].innerHTML,i.getAttribute("side")&&(s.side=i.getAttribute("side")),t(i).tooltipster(s)}},hideAll:function(e=!1){function o(){let e=t.tooltipster.instances();for(instance in e)e[instance].close()}e?o():setTimeout(o,10)}},collapsers:{toggle:function(o){if(!0===e)return;e=!0;let i=o.getAttribute("group");o.classList.contains("active")?t.bmi.collapsers.close(o):t.bmi.collapsers.open(o,i)},open:function(o,i){t.bmi.collapsers.closeGroup(i),t(o).addClass("active"),t(o).find(".content").show(300),setTimeout(function(){e=!1},300)},close:function(o){t(o).removeClass("active"),t(o).find(".content").hide(300),setTimeout(function(){e=!1},300)},closeGroup:function(o){t('.collapser[group="'+o+'"]').removeClass("active"),t('.collapser[group="'+o+'"]').find(".content").hide(300),setTimeout(function(){e=!1},300)},closeAll:function(){t(".collapser").removeClass("active"),t(".collapser").find(".content").hide(300),setTimeout(function(){e=!1},300)}},isUrlValid:function(t){return!!new RegExp("^(?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?$","i").test(t)},bytesToHuman:function(t,e,o,i,n){return(e=Math,o=e.log,i=1024,n=o(t)/o(i)|0,t/e.pow(i,n)).toFixed(2)+" "+(n?"KMGTPEZY"[--n]+"B":"Bytes")},getCurrentBackups:function(e=function(){}){t("#reloading-bm-list").length>0&&"none"==t("#reloading-bm-list")[0].style.display&&(t("#reloading-bm-list").show(),t.bmi.ajax("get-current-backups",{}).then(function(o){t("#reloading-bm-list").hide(),e(o)}).catch(function(t){console.log(t)}))},fillWithNewBackups:function(e,o=function(){}){backups={},t("#bmi_restore_tbody").html("");let i=t("#bmi-manual-locked").text().trim(),n=Object.keys(e).sort(function(t,o){return+new Date(e[t][1].replace(/\-/g,"/"))-+new Date(e[o][1].replace(/\-/g,"/"))}),s=0;for(;s<n.length;++s){let o=n[s],r="locked"===e[o][5];o=(o=o.replace(/  /g,"")).trim();let a="bmi_br_backup_"+s,l=t(".br_tr_template").clone();l.removeClass("br_tr_template"),l[0].style.display="none",l.find(".br_label").attr("for",a),l.find(".br_checkbox").attr("id",a),l.find(".bc-download-btn").attr("href",t("#BMI_BLOG_URL").text().trim()+"/?backup-migration=BMI_BACKUP&backup-id="+o),l.find(".bc-logs-btn").attr("href",t("#BMI_BLOG_URL").text().trim()+"/?backup-migration=BMI_BACKUP_LOGS&backup-id="+o),l.find(".br_date").text(e[o][1]),l.find(".br_name").text(o),l.find(".br_size").text(t.bmi.bytesToHuman(e[o][4])+" ("+e[o][2]+")"),0!=(""+e[o][6]).trim().length&&e[o][6]+""!="false"||(l.find(".bc-locked-btn").addClass("forever"),l.find(".bc-locked-btn").attr("tooltip",i),r=!0),r?l.find(".bc-unlocked-btn").hide():l.find(".bc-locked-btn").hide(),l.prependTo("#bmi_restore_tbody"),e[o].push(o),backups[a]=e[o]}if(0==s){let e=t("#bmi_restore_tbody").data("empty");t("#bmi_restore_tbody").html('<tr><td class="center text-muted" colspan="100%">'+e+"</td></tr>")}t.bmi.tooltips.init(),t.bmi.showMoreBackups(),o()},showMoreBackups:function(e){backups={};let o=t("#bmi_restore_tbody").find("tr:hidden");for(let e=0;e<o.length&&e<10;++e)setTimeout(function(){t(o[e]).show(300)},50*e);o.length-10<=0?t("#load-more-backups-wrp").hide(300):t("#load-more-backups-wrp").show(300)},reloadBackups:function(e=function(){}){t.bmi.getCurrentBackups(function(o){t.bmi.fillWithNewBackups(o.backups,function(){e(),t("#backups-select-all").prop("checked",!1),t(".del-all-btn-wrp").hide(300)})})},hideAllLists:function(){let e=t(".dropdown-open");if(!(e.length<=0))for(let o=0;o<e.length;++o){let i=t(e[o]);i.hasClass("ignored-open")?i.removeClass("ignored-open"):(i.hide(300),i.removeClass("dropdown-open"),t(i[0].closest(".bmi-dropdown")).removeClass("active"))}},setOption:function(e,o=null,i=!1){let n=e.find(".dropdown-options");e.attr("data-optioner")&&(n=t(".optioner-"+e.attr("data-optioner"))),n.find(".active-option").removeClass("active-option"),!1!==i&&(o=n.find('.dropdown-option[data-value="'+i+'"]')),t(o).hasClass("active-option")||(e.find(".dropdown-title").text(o.text()),e.attr("data-selected",o.data("value")),o.addClass("active-option"),!1===i&&e.change(),t.bmi.hideAllLists())},prepareFile:function(e,o){let i=document.createElement("a");i.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(o)),i.setAttribute("download",e),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),t.bmi.alert("success",t("#bmi-download-should-start").text(),3e3)}}})}),jQuery(document).ready(function(t){t(".collapser .header").on("click",function(e){e.preventDefault();let o=t(this).parent(".collapser")[0];t.bmi.collapsers.toggle(o)}),t(".bmi_will_collapse").on("change",function(e){e.preventDefault();let o=!1;"radio"==this.getAttribute("type")&&"false"==this.getAttribute("value")&&(o=!0),$child=t(this).data("if-checked"),!0!==this.checked||o?t("#"+$child).hide(300):t("#"+$child).show(300)}),t(".collapser-openner").on("click",function(e){e.preventDefault();let o="configuration",i=t(this).data("el");t(this).data("group")&&(o=t(this).data("group")),t.bmi.collapsers.open(i,o),setTimeout(function(){t([document.documentElement,document.body]).animate({scrollTop:t(i).offset().top-50+"px"},300)},300)}),function(){let e=t(".bmi_will_collapse");for(let o=0;o<e.length;++o){let i=!1;$trigger=e[o],$child=t($trigger).data("if-checked"),"radio"==$trigger.getAttribute("type")&&"false"==$trigger.getAttribute("value")&&(i=!0),!0===$trigger.checked?t("#"+$child).show():t("#"+$child).hide()}}()}),jQuery(document).ready(function(t){var e=!0,o=!1;t.bmi.crons=function(){function i(){!function(e,o){t.bmi.ajax("calculate-cron",e).then(function(e){"success"==e.status?o(e):(o(!1),t.bmi._msg(e))}).catch(function(t){o(!1),console.log(t)})}({type:t('[data-id="cron-period"]').attr("data-selected"),day:t('[data-id="cron-day"]').attr("data-selected"),week:t('[data-id="cron-week"]').attr("data-selected"),hour:t('[data-id="cron-hour"]').attr("data-selected"),minute:t('[data-id="cron-minute"]').attr("data-selected"),keep:t('[data-id="cron-keep-backups"]').attr("data-selected"),enabled:!0==!t("#cron-btn-toggle")[0].checked},function(o){"success"===o.status&&!1!==o?(t(".cron-time-server").tooltipster("option","interactive",!1),t(".cron-time-server").tooltipster("option","contentAsHTML",!0),!0===t("#cron-btn-toggle")[0].checked&&(o.data="---"),t(".cron-time-server").tooltipster("content","<b>"+t("#bmi-next-cron").text()+"</b>"+o.data+"<br><b>"+t("#bmi-current-time").text()+"</b>"+o.currdata),e?e=!1:t.bmi.alert("success",t("#bmi-cron-updated").text(),1500)):e?e=!1:t.bmi.alert("error",t("#bmi-cron-updated-fail").text(),2500)})}function n(e){"month"==e?(t(".cron-the").show(),t('[data-id="cron-day"]').show(),t('[data-id="cron-week"]').hide(),t("#cron-on-word").show()):"week"==e?(t(".cron-the").hide(),t('[data-id="cron-day"]').hide(),t('[data-id="cron-week"]').show(),t("#cron-on-word").show()):(t(".cron-the").hide(),t('[data-id="cron-day"]').hide(),t('[data-id="cron-week"]').hide(),t("#cron-on-word").hide())}!0!==o&&(o=!0,t("#bmi").on("change",'[data-id="cron-period"]',function(t){i(),n(t.target.getAttribute("data-selected"))}),t("#bmi").on("change",'[data-id="cron-day"]',function(t){t.target.getAttribute("data-selected");i()}),t("#bmi").on("change",'[data-id="cron-week"]',function(t){t.target.getAttribute("data-selected");i()}),t("#bmi").on("change",'[data-id="cron-hour"]',function(t){t.target.getAttribute("data-selected");i()}),t("#bmi").on("change",'[data-id="cron-minute"]',function(t){t.target.getAttribute("data-selected");i()}),t("#bmi").on("change",'[data-id="cron-keep-backups"]',function(t){t.target.getAttribute("data-selected");i()}),t("#i-backup-cron").on("click",function(){t(".cron-backups").find(".turned-off").is(":visible")&&(t("#cron-btn-toggle").prop("checked",!1),t(".cron-backups").removeClass("disabled"),i(),t(".cron-backups").find(".turned-on").css({opacity:0}),t(".cron-backups").find(".turned-off").css({opacity:0}),t(".cron-backups").find(".turned-on").show(),t(".cron-backups").find(".turned-on").css({opacity:1}),setTimeout(function(){t(".cron-backups").find(".turned-off").hide()},300))}),t("#cron-btn-toggle").on("change",function(){this.checked?t(".cron-backups").addClass("disabled"):t(".cron-backups").removeClass("disabled"),i()}),n(t('[data-id="cron-period"]')[0].getAttribute("data-selected")),i())}}),jQuery(document).ready(function(t){t.bmi.dropdowns={init:function(){let e=t("#bmi");function o(e="null",o="---"){let i=t(".option-template").clone();return i.removeClass("option-template"),i.attr("data-value",e),i.text(o),i}function i(i){if("none"!=i.style.display){i.style.display="none";let n=t(i),s=n.find("option"),r=function(e="---"){let o=t(".dropdown-template").clone();return o.removeClass("dropdown-template"),o.find(".dropdown-title").text(e),o}(function(t){let e="";for(let o=0;o<t.length;++o){let i=t[o].innerText;e.length<i.length&&(e=i)}return e}(s));r=function(e,i){let n=t(e).find(".dropdown-options");t(e).attr("data-optioner")&&(n=t(".optioner-"+t(e).attr("data-optioner")));for(let t=0;t<i.length;++t){let e=i[t];n.append(o(e.value,e.innerText))}return e}(r,s);let a=s[0].value,l=i.getAttribute("data-parent"),c=i.getAttribute("data-classes"),d="true"===i.getAttribute("data-hide");if(n.attr("data-def")&&(a=n.attr("data-def")),t(r).attr("data-id",i.id),t(r).attr("class",((null!=c?c:"")+" bmi-dropdown").trim()),t(r).insertBefore(n),null!==l){let e=parseInt(864197532*Math.random()+123456789);t(r).attr("data-optioner",e),t(r).find(".dropdown-options").attr("data-oparent",e),t(r).find(".dropdown-options").addClass("optioner-"+e),t(r).find(".dropdown-options").appendTo(l),t(l).css({position:"relative"})}let u=t(r).clone();if(!u)return;u[0].style.visibility="hidden",e.append(u);let p=u.width();u.remove(),t.bmi.setOption(t(r),null,a),t(r).find(".dropdown-title")[0].style.minWidth=p+10+"px",d&&t(r).hide()}}!function(){let t=e.find("select");for(let e=0;e<t.length;++e)i(t[e])}(),t.bmi.crons(),e.on("click",function(e){t(e.target).hasClass("bmi-dropdown")||e.target.closest(".bmi-dropdown")||t.bmi.hideAllLists()}),e.on("click",".dropdown-title",function(e){$dropdown=t(e.target.closest(".bmi-dropdown")),function(e){let o=e.find(".dropdown-options");if(e.attr("data-optioner")){(o=t(".optioner-"+e.attr("data-optioner"))).css({position:"absolute"});let i=e[0].offsetWidth,n=e[0].offsetLeft+240,s=e[0].offsetTop+e[0].offsetHeight+5;o.css({maxWidth:i+"px",minWidth:i+"px",top:s+"px",left:n+"px"})}o.hasClass("dropdown-open")?(e.removeClass("active"),o.removeClass("dropdown-open"),o.hide(300)):(e.addClass("active"),o.addClass("dropdown-open"),o.addClass("ignored-open"),o.show(300))}($dropdown),t.bmi.hideAllLists()}),e.on("click",".dropdown-option",function(e){t(e.target.closest(".dropdown-options")).attr("data-oparent")?($dropdown=t('.bmi-dropdown[data-optioner="'+t(e.target.closest(".dropdown-options")).attr("data-oparent")+'"]'),$option=t(e.target),t.bmi.setOption($dropdown,$option)):($dropdown=t(e.target.closest(".bmi-dropdown")),$option=t(e.target),t.bmi.setOption($dropdown,$option))})}}}),jQuery(document).ready(function(t){var e,o,i=!1,n=!1,s=0;let r=0,a=0,l=null,c=null,d=null,u=!1,p=!1,f=4500,m=!1,_=!1,h=null,g=!1,b=!1,w=!1,v={},y=[],k=null,x=!1,C="";function $(e){return $cb=t("#"+e).is(":checked"),!0===$cb?"true":"false"}function T(){return size=0,t("#files-group-plugins").is(":checked")&&(size+=parseInt(t('label[for="files-group-plugins"]').find(".value").attr("bytes"))),t("#files-group-uploads").is(":checked")&&(size+=parseInt(t('label[for="files-group-uploads"]').find(".value").attr("bytes"))),t("#files-group-themes").is(":checked")&&(size+=parseInt(t('label[for="files-group-themes"]').find(".value").attr("bytes"))),t("#files-group-other-contents").is(":checked")&&(size+=parseInt(t('label[for="files-group-other-contents"]').find(".value").attr("bytes"))),t("#files-group-wp-install").is(":checked")&&(size+=parseInt(t('label[for="files-group-wp-install"]').find(".value").attr("bytes"))),size}function I(e,o){if(a+=1,r+=parseInt(o.bytes),o.bytes<=1e4)t("#bmi-scan-"+e).find(".value").text("(0 MB)");else{let i=(parseInt(o.bytes)/1024/1024).toFixed(2);t("#bmi-scan-"+e).find(".value").text("("+i+" MB)")}t("#bmi-scan-"+e).find(".value").attr("bytes",parseInt(o.bytes)),5==a&&(t("#bmi-scan-total").find(".value").text("("+t.bmi.bytesToHuman(r)+")"),t("#bmi-scan-total").find(".value").attr("bytes",parseInt(r)),S())}function O(e){t.bmi.ajax("scan-directory",{folder:e}).then(function(t){I(e,t)}).catch(function(t){I(t,{bytes:"0",readable:"0 B"})})}function z(e=!1,o=function(){}){t.bmi.ajax("is-running-backup",{}).then(function(i){"success"==i.status?o(!1):1==e?o(!0):(t.bmi.modal("freeze-loading-modal").close(),t.bmi._msg(i))}).catch(function(e){o(!1),t.bmi.modal("freeze-loading-modal").close(),console.log(e)})}function S(){let e=parseInt(t("#bmi-scan-total").find(".value").attr("bytes")),o=parseInt(T());t("#files-group-backup").is(":checked")||(e=0,o=0);let i=((e-o)/1024/1024).toFixed(2),n=(o/1024/1024).toFixed(2);"0.00"==i&&(i="0"),"0.00"==n&&(n="0"),t("#esta-exclude").text(i+" MB"),t("#esta-size-for").text(n+" MB")}function E(e){"backup-prenotice"==e?B():(t.bmi.modal("freeze-loading-modal").close(),setTimeout(function(){t.bmi.modal(e).open()},300))}function A(t,e=function(){}){"is_allowed"==t?e("not-allowed"):e()}function R(){t("#prenotice-modal .prenotice").hide(),t("#prenotice-size").text(t.bmi.bytesToHuman(T())),t(".prenotic-3").show(),"true"!==$("database-group-backup")||"true"!==$("database-group-backup")||"true"===$("files-group-backup")&&("true"!==$("files-group-plugins")&&"true"!==$("files-group-themes")&&"true"!==$("files-group-uploads")&&"true"!==$("files-group-wp-install")&&$("files-group-other-contents"),1)||t(".prenotic-6").show(),"true"===$("database-group-backup")||"true"===$("database-group-backup")||"true"!==$("files-group-backup")||"true"!==$("files-group-plugins")&&"true"!==$("files-group-themes")&&"true"!==$("files-group-uploads")&&"true"!==$("files-group-wp-install")&&"true"!==$("files-group-other-contents")||t(".prenotic-5").show(),"true"===$("database-group-backup")&&"true"===$("files-group-backup")&&"true"===$("files-group-plugins")&&"true"===$("files-group-themes")&&"true"===$("files-group-uploads")&&"true"===$("files-group-other-contents")||t(".prenotic-4").show(),t("#prenotice-modal .prenotice:visible").css({background:""});let e=t("#prenotice-modal .prenotice"),o=[];for(let t=0;t<e.length;++t)"none"!==e[t].style.display&&o.push(e[t]);for(let t=0;t<o.length;t+=2)o[t].style.background="#f8f8f8"}function B(){t.bmi.modal("freeze-loading-modal").open(),R(),z(!1,function(){setTimeout(function(){t.bmi.modal("freeze-loading-modal").close(),setTimeout(function(){t.bmi.modal("prenotice-modal").open()},300)},300)})}function L(t,e=function(){}){let o=window.location.protocol.includes("https");t=t.includes("https")?t.slice(5):t.slice(4),t=o?"https"+t:"http"+t;try{window.XMLHttpRequest?xmlhttp=new XMLHttpRequest:xmlhttp=new ActiveXObject("Microsoft.XMLHTTP"),xmlhttp.onloadend=function(){4==xmlhttp.readyState&&200==xmlhttp.status?e(xmlhttp.responseText):e(!1)},xmlhttp.open("GET",t),xmlhttp.send()}catch(t){e(!1)}}function D(o){let r=y[s],a=document.createElement("DIV"),l="";if(void 0===r||!r)return;"[INFO]"==r.substr(0,6)?l="blue":"[SUCCESS]"==r.substr(0,9)?l="green":"[WARN]"==r.substr(0,6)?l="orange":"[ERROR]"==r.substr(0,7)?l="red":"[END-CODE]"==r.substr(0,10)?l="hide_so_much":"[STEP]"==r.substr(0,6)?(a.classList.add("bold"),a.classList.add("step")):r&&r.trim().length>0&&"["!=r[0]&&s--,l.length>0&&a.classList.add(l),a.style.display="none",a.innerText=r,o.appendChild(a);let c=function(){let o=!1,s="";for(let r=0;r<y.length;++r){let a=y[r];if("[STEP]"==a.substr(0,6)&&(s=a.slice(29)),0==o&&a&&a.trim().includes("[END-CODE]")&&(!0===_||!0===w||!0===b)){o=!0;let s=a;!0===b?s.includes("205")?(b=!1,t("#restore-progress-modal .progress-active-bar")[0].style.width="0%",t("#restore-progress-modal .progress-percentage")[0].style.left="0%",t("#restore-progress-modal .progress-percentage")[0].innerText="0%",ot(!0)):tt():!0===w?(s.includes("001")?setTimeout(function(){et()},1e3):tt(),p=!1,w=!1):(_=!1,s.includes("001")?(i=!0,n=!0,clearTimeout(e),u=!1,U({filename:h},!0)):s.includes("002")?Q():s.includes("003")?(t.bmi.modal("backup-progress-modal").close(),t.bmi.alert("info",t("#bmi-aborted-al").text(),3e3)):s.includes("100")?(t.bmi.modal("backup-progress-modal").close(),W(),t.bmi.modal("backup-progress-modal").close()):Q())}}return""!=s&&s!=C&&(C=s,t("#restore-progress-modal").hasClass("open")?t("#restore_current_step").text(s):t("#current_step").text(s)),o}();t(a).show(40),o.scrollTop=o.scrollHeight,++s<y.length&&0==c?(x=!0,k=setTimeout(function(){D(o)},40)):x=!1}function M(t,e){if(!1===t)return;let o=t.split("\n");o.length>=1&&(o=o.slice(0,-1)),y=o,0==x&&s<y.length&&D(e)}function P(e=0,s=1e3,r=null){if(c==e)return;c=e,clearInterval(o);let a=parseFloat(t(".progress-percentage")[0].style.left)-1;t("#restore-progress-modal").hasClass("open")&&(a=parseFloat(t("#restore-progress-modal .progress-percentage")[0].style.left)-1);let l=e-a,d=a,p=Math.abs(Math.floor(s/l));o=setInterval(function(){if(d+=1,t("#restore-progress-modal").hasClass("open")?(t("#restore-progress-modal .progress-active-bar")[0].style.width=d.toFixed(2)+"%",t("#restore-progress-modal .progress-percentage")[0].style.left=d.toFixed(2)+"%",t("#restore-progress-modal .progress-percentage")[0].innerText=d.toFixed(0)+"%"):(t(".progress-active-bar")[0].style.width=d.toFixed(2)+"%",t(".progress-percentage")[0].style.left=d.toFixed(2)+"%",t(".progress-percentage")[0].innerText=d.toFixed(0)+"%"),d>=100&&clearInterval(o),d>=100&&null!=r&&(c=null,t("#backup-progress-modal").hasClass("open"))){i=!0,n=!0,U(r,0==u)}d>e&&clearInterval(o)},p)}t("#live-log-toggle").on("click",function(){t(".expanded-logs").length>0?t(this).text(t(this).data("hide")):t(this).text(t(this).data("show")),t("#live-log-wrapper").toggleClass("expanded-logs")}),t("#backup-stop").on("click",function(){t.bmi.ajax("stop-backup",{}).then(function(e){"success"==e.status?t.bmi.alert("success",t("#bmi-abort-soon").text(),3e3):t.bmi._msg(e)}).catch(function(t){console.log(t)})}),t("#bmi-force-backup-to-stop").on("click",function(e){e.preventDefault(),t.bmi.alert("info",t("#bmi-force-stop-in-progress").text(),3e3),t.bmi.ajax("force-backup-to-stop").then(function(e){t.bmi.alert("success",t("#bmi-force-stop-success").text(),6e3)}).catch(function(e){t.bmi.alert("error",t("#failed-to-stop").text(),6e3),console.log(e)})}),t("#bmi-force-restore-to-stop").on("click",function(e){e.preventDefault(),t.bmi.alert("info",t("#bmi-force-stop-in-progress").text(),3e3),t.bmi.ajax("force-restore-to-stop").then(function(e){t.bmi.alert("success",t("#bmi-force-stop-success").text(),6e3)}).catch(function(e){t.bmi.alert("error",t("#failed-to-stop").text(),6e3),console.log(e)})}),t("#bmi_restore_tbody").on("click",".bc-unlocked-btn",function(e){e.preventDefault();let o=e.target,i=o.closest("tr").querySelector(".br_name").innerText.trim();t.bmi.ajax("lock-backup",{filename:i}).then(function(e){"success"==e.status?(t.bmi.alert("success",t("#bmi-lock-success").text(),6e3),t(o.closest("tr").querySelector(".bc-unlocked-btn")).hide(),t(o.closest("tr").querySelector(".bc-locked-btn")).show()):(t.bmi.alert("error",t("#bmi-lock-error").text(),8e3),console.error("BMI Backend error: ",e))}).catch(function(t){console.log(t)})}),t("#files-group-backup").on("change",S),t(".basic-file-exlusion").on("change",'input[type="checkbox"]',S),t("#bmi_restore_tbody").on("click",".bc-locked-btn",function(e){if(e.preventDefault(),t(e.target).hasClass("forever"))return;let o=e.target,i=o.closest("tr").querySelector(".br_name").innerText.trim();t.bmi.ajax("unlock-backup",{filename:i}).then(function(e){"success"==e.status?(t.bmi.alert("success",t("#bmi-unlock-success").text(),3e3),t(o.closest("tr").querySelector(".bc-locked-btn")).hide(),t(o.closest("tr").querySelector(".bc-unlocked-btn")).show()):(t.bmi.alert("error",t("#bmi-unlock-error").text(),3e3),console.error("BMI Backend error: ",e))}).catch(function(t){console.log(t)})}),t("#bmi_restore_tbody").on("click",".bc-url-btn",function(e){let o=e.target.closest("tr").querySelector(".bc-download-btn").getAttribute("href");t.bmi.clipboard(o)}),t("#bmi_restore_tbody").on("click",".bc-remove-btn",function(e){let o=e.target.closest("tr").querySelector(".br_name").innerText.trim();d=[o],t("#delete-confirm-modal").find(".text2").hide(),t("#delete-confirm-modal").find(".text1").show(),t.bmi.modal("delete-confirm-modal").open()}),t("#sure_delete").on("click",function(){t.bmi.ajax("delete-backup",{filenames:d}).then(function(e){d=null,"success"==e.status?(t.bmi.reloadBackups(),t.bmi.modal("delete-confirm-modal").close(),t.bmi.alert("success",t("#bmi-remove-success").text(),3e3)):(t.bmi.alert("warning",t("#bmi-remove-error").text(),3e3),console.error("BMI Backend error: ",e))}).catch(function(t){console.log(t)})}),t(".bmi-send-troubleshooting-logs").on("click",function(e){e.preventDefault(),t.bmi.alert("info",t("#bmi-support-send-start").text(),6e3),t(".bmi-send-troubleshooting-logs").addClass("disabled");let o=!1,i=!1;t("#backup-error-modal").is(":visible")&&(t.bmi.modal("backup-error-modal").close(),o=!0,i=!1),t("#restore-error-modal").is(":visible")&&(t.bmi.modal("restore-error-modal").close(),i=!0,o=!1),t.bmi.modal("freeze-loading-modal").open();let n=t("#after-logs-sent-modal").attr("data-error-source");t.bmi.ajax("send-troubleshooting-logs",{source:n}).then(function(e){t.bmi.modal("freeze-loading-modal").close(),"success"==e.status?(t("#bmi-support-code-generated").text(e.code),setTimeout(function(){t.bmi.alert("success",t("#bmi-support-send-success").text(),4e3),t.bmi.modal("after-logs-sent-modal").open()},300)):(t.bmi.alert("error",t("#bmi-support-send-fail").text(),6e3),i&&t.bmi.modal("restore-error-modal").open(),o&&t.bmi.modal("backup-error-modal").open()),t(".bmi-send-troubleshooting-logs").removeClass("disabled")}).catch(function(e){t.bmi.modal("freeze-loading-modal").close(),t.bmi.alert("success",t("#bmi-support-send-fail").text(),6e3),alert("Something went wrong on your browser side and we could not send your logs to support team."),t(".bmi-send-troubleshooting-logs").removeClass("disabled"),i&&t.bmi.modal("restore-error-modal").open(),o&&t.bmi.modal("backup-error-modal").open(),console.log(e)})}),t("#share-logs-allowed").on("click",function(e){e.preventDefault();let o=t("#logs-sharing-ask-modal").attr("data-destination");t.bmi.alert("success",t("#bmi-share-logs-thank-you").text(),3e3),t.bmi.modal("logs-sharing-ask-modal").close(),t.bmi.modal("freeze-loading-modal").open(),A("set_yes",function(){setTimeout(function(){E(o)},300)})}),t("#share-logs-not-allowed").on("click",function(e){e.preventDefault();let o=t("#logs-sharing-ask-modal").attr("data-destination");t.bmi.modal("logs-sharing-ask-modal").close(),t.bmi.modal("freeze-loading-modal").open(),A("set_no",function(){setTimeout(function(){E(o)},300)})}),t("#ignore-share-log-request-for-now").on("click",function(e){e.preventDefault(),t.bmi.modal("logs-sharing-ask-modal").close(),E(t("#logs-sharing-ask-modal").attr("data-destination"))}),t("#add-exclusion-rule").on("click",function(e){e.preventDefault();let o=t(".exclusion_template").clone();o[0].classList.remove("exclusion_template"),o[0].style.display="none",t("#bmi_exclusion_rules").append(o),o.show(300)}),t("#bmi_exclusion_rules").on("click",".kill-exclusion-rule",function(e){e.preventDefault(),$el=e.target,$parent=$el.closest(".exclude-row"),$parent&&(t($parent).hide(300),setTimeout(function(){$parent.remove()},320))}),t("#i-backup-creator").on("click",function(){if(!isNaN(T()))return T()/1024/1024>1e3*parseInt(t("#BMI_REV").text().trim())?W():void("true"===$("database-group-backup")||"true"===$("files-group-backup")&&("true"===$("files-group-plugins")||"true"===$("files-group-themes")||"true"===$("files-group-uploads")||"true"===$("files-group-wp-install")||"true"===$("files-group-other-contents"))?(t.bmi.modal("freeze-loading-modal").open(),setTimeout(function(){A("is_allowed",function(e){"ask"===e?(t.bmi.modal("freeze-loading-modal").close(),t("#logs-sharing-ask-modal").attr("data-destination","backup-prenotice"),setTimeout(function(){t.bmi.modal("logs-sharing-ask-modal").open()},300)):B()})},300)):t.bmi.alert("warning",t("#bmi-no-selected").text(),3e3));t.bmi.alert("warning",t("#bmi-preb-processing").text(),3e3)}),t("#BFFSIN").on("change",function(t){let e=parseInt(this.value);isNaN(e)?this.value=1:this.value=e>9999?9999:e<=0?1:e}),t(".save-btn").on("click",function(e){e.preventDefault();let o={},i=t(this.closest(".save-action")).data("save");if(i){if("save-storage"==i)o.directory=t("#bmi_path_storage_default").val(),o.access="true"===t('[name="radioAccessViaLink"]:checked').val()?"true":"false";else if("save-file-config"==i){if(o.database_group=$("database-group-backup"),o.files_group=$("files-group-backup"),t("#bmi-pro-db-tables-exclusion").length>0){o["db-exclude-tables-group"]=$("bmi-pro-db-tables-exclusion"),o["db-excluded-tables"]=["empty"];let e=t(".bmi_pro_tables_display").find("input:checked");if(e.length>0){o["db-excluded-tables"]=[];for(let t=0;t<e.length;++t)o["db-excluded-tables"].push(e[t].value)}else o["db-exclude-tables-group"]="false"}else o["db-exclude-tables-group"]="false",o["db-excluded-tables"]=["empty"];o["files-group-plugins"]=$("files-group-plugins"),o["files-group-uploads"]=$("files-group-uploads"),o["files-group-themes"]=$("files-group-themes"),o["files-group-other-contents"]=$("files-group-other-contents"),o["files-group-wp-install"]=$("files-group-wp-install"),o.files_by_filters=$("files_by_filters"),o.ex_b_fs=$("ex_b_fs"),o.BFFSIN=t("#BFFSIN").val()?t("#BFFSIN").val():"1",o.ex_b_names=$("ex_b_names"),o.ex_b_fpaths=$("ex_b_fpaths"),o.ex_b_dpaths=$("ex_b_dpaths");let e=[],i=t("#bmi_exclusion_rules").find(".exclude-row");for(let o=0;o<i.length;++o){let n=t(i[o]),s=n.find(".exclusion_txt").val(),r=n.find(".exclusion_position").find(".bmi-dropdown").data("selected")+"",a=n.find(".exclusion_where").find(".bmi-dropdown").data("selected")+"";e.push({txt:s,pos:r,whr:a})}o["dynamic-names"]=e,o["dynamic-fpaths-names"]=t("#dynamic-fpaths-names").val().split("\n"),o["dynamic-dpaths-names"]=t("#dynamic-dpaths-names").val().split("\n")}else if("store-config"==i)o.name=t("#backup_filename").val().trim();else{if("save-other-options"!=i)return;o.email=t("#email-for-notices").val().trim(),o.email_title=t("#email-title-for-notices").val().trim(),o.schedule_issues=$("scheduled-issues"),o.experiment_timeout=$("experimental-timeout"),o.experimental_hard_timeout=$("experimental-hard-timeout"),o.php_cli_disable_others=$("cli-disable-others"),o.php_cli_manual_path=t("#cli-manual-path").val().trim(),o.download_technique=$("download-technique"),o.uninstall_config=$("uninstalling-configs"),o.uninstall_backups=$("uninstalling-backups"),o.normal_timeout=$("normal-timeout"),o.db_queries_amount=t("#db_queries_amount").val().trim(),o.db_search_replace_max=t("#db_search_replace_max").val().trim(),o["bmi-restore-splitting"]=$("bmi-restore-splitting"),o["bmi-db-v3-restore-engine"]=$("bmi-db-v3-restore-engine"),o["remove-assets-before-restore"]=$("remove-assets-before-restore"),o["bmi-db-single-file-backup"]=$("bmi-db-single-file-backup"),o["bmi-db-batching-backup"]=$("bmi-db-batching-backup"),o["bmi-disable-space-check-function"]=$("bmi-do-not-check-free-space-backup")}t.bmi.ajax(i,o).then(function(e){"success"==e.status?e.errors<=0?(t.bmi.alert("success",t("#bmi-save-success").text(),3e3),t.bmi.collapsers.closeAll()):t.bmi.alert("warning",t("#bmi-save-issues").text(),3e3):t.bmi._msg(e)}).catch(function(t){console.log(t)})}}),t(".close-chapters").on("click",function(e){e.preventDefault(),t.bmi.collapsers.closeAll()}),t("#rescan-for-backups").on("click",function(){t.bmi.reloadBackups()}),t(".storage-checkbox").on("click",function(){let e=t(this).attr("data-toggle"),o=t(t(this)[0].closest(".tab2-item"));t(this).is(":checked")?(t("#"+e).show(300),o.addClass("activeList")):(t("#"+e).hide(300),o.removeClass("activeList"))});var j=0;function q(e=function(){}){let o=t("#BMI_BLOG_URL").text().trim();"/"!==o.slice(-o.length)&&(o+="/"),L(o+"?backup-migration=PROGRESS_LOGS&progress-id=latest_full.log&backup-id=current&t="+ +new Date,function(o){if(!o)return e();let i=o.split("\n").slice(0,1)[0];""===i.trim()?(i=o.split("\n").slice(0,2)[1],o=o.split("\n").slice(2).join("\n")):o=o.split("\n").slice(1).join("\n");let n=t(".log-wrapper").find("pre")[0],s=t("#bmi-making-archive").text().trim();if(i&&0!=i&&void 0!==i)if(t("#current_step").text().trim().slice(0,s.length)==s){let e=document.getElementById("bmi_counter_magic");if(e){let o=parseInt(e.innerText);j=parseInt(i.split("/")[0]),isNaN(o)||isNaN(j)||(P(parseInt(i.split("/")[0])/parseInt(i.split("/")[1])*100),async function(t,e,o,i){let n=null,s=function(r){if(j>o)return;n||(n=r);let a=Math.min((r-n)/i,1);t.innerText=Math.floor(a*(o-e)+e),a<1&&window.requestAnimationFrame(s)};window.requestAnimationFrame(s)}(e,o,j,2e3),"---"===t("#bmi_magic_max_count").text()&&100!=parseInt(i.split("/")[1])&&(t("#bmi_magic_max_count").text(parseInt(i.split("/")[1])),t("#entire_magic_counter").is(":hidden")&&t("#entire_magic_counter").show()))}else{let e=parseInt(i.split("/")[1]);100==e&&(e="---"),t("#current_step").html(s+' <span id="entire_magic_counter">(<span id="bmi_counter_magic">0</span>/<span id="bmi_magic_max_count">'+e+"</span>)</span>"),(isNaN(parseInt(e))||"---"==e)&&t("#entire_magic_counter").hide()}}else P(parseInt(i.split("/")[0])/parseInt(i.split("/")[1])*100);o&&0!=o&&void 0!==o&&M(o,n),e()})}function F(){t(".log-wrapper").find("pre")[0].innerText="",P(0),setTimeout(function(){q(function(){!function t(){q(function(){clearTimeout(e),e=setTimeout(function(){!0===u&&t()},1500)})}()})},300)}function H(o=!0){!0===o&&(t(".log-wrapper").find("pre")[0].innerText="",P(0)),V(function(){clearTimeout(e),function t(){V(function(){e=setTimeout(function(){!0!==p&&!0!==b||t()},800)})}()})}function N(t=function(){}){z(!0,function(e){t(e)})}function G(e=!1,o=function(){}){t.bmi.ajax("reset-latest",{}).then(function(i){!0===e?o():"success"==i.status?(o(),setTimeout(function(){t.bmi.modal("freeze-loading-modal").close(),setTimeout(function(){t.bmi.modal("backup-progress-modal").open()},300)},300)):t.bmi._msg(i)}).catch(function(t){console.log(t)})}function U(s,r=!1){(i&&n||r)&&setTimeout(function(){u=!1,clearInterval(o),clearTimeout(e);let i=t("#BMI_BLOG_URL").text().trim();"/"!==i.slice(-i.length)&&(i+="/"),t.bmi.ajax("get-latest-backup",{}).then(function(e){let n=i+"?backup-migration=BMI_BACKUP&backup-id="+e+"&t="+ +new Date,s=i+"?backup-migration=PROGRESS_LOGS&progress-id=latest.log&backup-id=current&t="+ +new Date;t("#text-input-copy")[0].value=n,t("#download-backup-url").attr("href",n),t(".download-backup-log-url").attr("href",s),t.bmi.reloadBackups(),setTimeout(function(){clearInterval(o),t(".log-wrapper").find("pre")[0].innerText="",t(".progress-active-bar")[0].style.width="0%",t(".progress-percentage")[0].style.left="0%",t(".progress-percentage")[0].innerText="0%"},300),t("#backup-progress-modal").hasClass("open")&&(t.bmi.modal("backup-progress-modal").close(),"true"==t('[name="radioAccessViaLink"]:checked').val()?t("#accessible-at-section").show():t("#accessible-at-section").hide(),t.bmi.modal("backup-success-modal").open())}).catch(function(e){console.error("Failure during getting latest backup, error #2:",e),t("#backup-progress-modal").hasClass("open")&&(t.bmi.modal("backup-progress-modal").close(),"true"==t('[name="radioAccessViaLink"]:checked').val()?t("#accessible-at-section").show():t("#accessible-at-section").hide(),t.bmi.modal("backup-success-modal").open());let n=i+"?backup-migration=BMI_BACKUP&backup-id="+s.filename+"&t="+ +new Date,r=i+"?backup-migration=PROGRESS_LOGS&progress-id=latest.log&backup-id=current&t="+ +new Date;t("#text-input-copy")[0].value=n,t("#download-backup-url").attr("href",n),t(".download-backup-log-url").attr("href",r),t.bmi.reloadBackups(),setTimeout(function(){clearInterval(o),t(".log-wrapper").find("pre")[0].innerText="",t(".progress-active-bar")[0].style.width="0%",t(".progress-percentage")[0].style.left="0%",t(".progress-percentage")[0].innerText="0%"},300)})},700)}function Q(o=!1){setTimeout(function(){z(!0,function(o){if(!0===o)return;t.bmi.modal("backup-progress-modal").close(),clearTimeout(e),t.bmi.modal("backup-progress-modal").close(),t("#backup-error-pre").text(t("#bmi-loading-translation").text().trim()),t.bmi.modal("backup-error-modal").open(),t("#after-logs-sent-modal").attr("data-error-source","backup");let i=t("#BMI_BLOG_URL").text().trim();"/"!==i.slice(-i.length)&&(i+="/")})},2e3)}function W(){t.bmi.modal("bfs-modal").open()}function J(e){let o=e.status,i=parseInt(e.errors),n=parseInt(e.iteratio),s=parseInt(e.dbiteratio),r=parseInt(e.dblast),a=parseInt(e.sf);if(!0===o&&-1===n)return _=!1,h=!1,g=!1,window.onbeforeunload=null,t(".backup-minimize").removeClass("disabled"),U({filename:h},!0);if(!isNaN(a)&&a>-1&&(g.filessofar=a),g.dbiteratio=s,g.iteratio=n,g.dblast=r,isNaN(i)||i>0||0==o){if(isNaN(i)||i>0)return _=!1,h=!1,g=!1,window.onbeforeunload=null,t(".backup-minimize").removeClass("disabled"),Q()}else X(g,i)}function X(t,e=0){!1===g&&(t.iteratio=0,g=t),function(t,e,o=0){let i=new XMLHttpRequest;i.open("POST",t.url,!0),i.setRequestHeader("Content-Type","application/json"),i.setRequestHeader("Content-Accept","*/*"),i.setRequestHeader("Access-Control-Allow-Origin","*"),i.setRequestHeader("Content-ConfigDir",t.config_dir),i.setRequestHeader("Content-Content",t.content_dir),i.setRequestHeader("Content-Backups",t.backup_dir),i.setRequestHeader("Content-Identy",t.identy),i.setRequestHeader("Content-Url",t.url),i.setRequestHeader("Content-Abs",t.abs_dir),i.setRequestHeader("Content-Dir",t.root_dir),i.setRequestHeader("Content-Manifest",t.manifest),i.setRequestHeader("Content-Name",t.backupname),i.setRequestHeader("Content-Safelimit",t.safelimit),i.setRequestHeader("Content-Start",t.start),i.setRequestHeader("Content-Filessofar",t.filessofar),i.setRequestHeader("Content-Total",t.total_files),i.setRequestHeader("Content-Rev",t.rev),i.setRequestHeader("Content-It",t.iteratio),i.setRequestHeader("Content-Dbit",t.dbiteratio),i.setRequestHeader("Content-Dblast",t.dblast),i.setRequestHeader("Content-Shareallowed",t.shareallowed),i.setRequestHeader("Content-Browser",!0),i.onload=function(){if(200===i.status){let t=i.getResponseHeader("Content-Finished");if(void 0!==t&&t&&"true"==t)return e({status:!0,iteratio:-1,dbiteratio:-1,dblast:0,sf:-1,errors:o=0});let n=i.getResponseHeader("Content-It"),s=i.getResponseHeader("Content-Dbit"),r=i.getResponseHeader("Content-Dblast"),a=i.getResponseHeader("Content-Filessofar");return e(void 0!==n&&n?{status:!0,iteratio:n,dbiteratio:s,dblast:r,sf:a,errors:o}:{status:!1,iteratio:-1,dbiteratio:s,dblast:r,sf:-1,errors:++o})}return o++,e({status:!1,iteratio:-1,dbiteratio:dbiteratio,dblast:dblast,sf:-1,errors:o})},i.onerror=function(){return e({status:!1,iteratio:-1,dbiteratio:-1,dblast:0,sf:-1,errors:++o})},i.send()}(g,J,e)}function K(e=function(){}){N(function(o){!0===o?t("#backup-progress-modal").hasClass("open")||(!1===u&&(i=!1,u=!0,m=!0),t("#bmi-ongoing-backup").show(300)):(t("#bmi-ongoing-backup").is(":visible")&&t("#bmi-ongoing-backup").hide(300),t("#backup-progress-modal").hasClass("open")&&!0===m?(!0===u&&(u=!1),m=!1,t.bmi.getCurrentBackups(function(e){t.bmi.fillWithNewBackups(e.backups,function(){!function(){let e=t("#BMI_BLOG_URL").text().trim();"/"!==e.slice(-e.length)&&(e+="/"),L(e+"?backup-migration=PROGRESS_LOGS&progress-id=latest.log&backup-id=current&t="+ +new Date,function(e){if(!1===e)t.bmi.modal("backup-progress-modal").close();else{let o="Backup process aborted",i="[ERROR]";if((e=e.split("\n"))[e.length-1].includes(o)||e[e.length-2].includes(o))t.bmi.modal("backup-progress-modal").close(),t.bmi.alert("info",t("#bmi-aborted-al").text(),3e3);else if(e[e.length-1].includes(i)||e[e.length-2].includes(i))Q();else{let e=t("#BMI_BLOG_URL").text().trim();"/"!==e.slice(-e.length)&&(e+="/"),t.bmi.ajax("get-latest-backup",{}).then(function(o){let i=e+"?backup-migration=BMI_BACKUP&backup-id="+o+"&t="+ +new Date,n=e+"?backup-migration=PROGRESS_LOGS&progress-id=latest.log&backup-id=current&t="+ +new Date;t("#text-input-copy")[0].value=i,t("#download-backup-url").attr("href",i),t(".download-backup-log-url").attr("href",n),t.bmi.modal("backup-progress-modal").close(),t.bmi.modal("backup-success-modal").open()}).catch(function(e){console.error("Failure during getting latest backup, error:",e),t.bmi.modal("backup-progress-modal").close(),t.bmi.modal("backup-success-modal").open();let o=t(t("#bmi_restore_tbody").find("tr")[0]).find(".bc-download-btn").attr("href");t("#download-backup-url").attr({href:o}),t("#text-input-copy").val(o)})}}})}()})})):!0!==u||t("#backup-progress-modal").hasClass("open")||(u=!1,t.bmi.reloadBackups())),e()})}function V(e=function(){}){let o=t("#BMI_BLOG_URL").text().trim();"/"!==o.slice(-o.length)&&(o+="/"),L(o+"?backup-migration=PROGRESS_LOGS&progress-id=latest_migration_full.log&backup-id=current&t="+ +new Date,function(o){if(!o)return e();let i=o.split("\n").slice(0,1)[0];if(o=o.split("\n").slice(1).join("\n"),!1===i||isNaN(parseFloat(i)))return e();let n=t("#restore-live-log-wrapper").find("pre")[0];o.includes("<")||o.includes(">")||o&&0!=o&&void 0!==o&&M(o,n),P(i),e()})}function Y(e=function(){}){t.bmi.ajax("htaccess-litespeed",{}).then(function(t){setTimeout(function(){e(!0)},400)}).catch(function(t){e(!1),console.log(t)})}function Z(e=function(){},o=!1,i=!0){t.bmi.ajax("migration-locked",{clearLogs:i}).then(function(i){"success"==i.status?e(!0):(o||t.bmi._msg(i),e(!1))}).catch(function(t){console.log(t)})}function tt(e=""){Z(function(e){e&&setTimeout(function(){if(!t("#restore-progress-modal").hasClass("open"))return;p=!1,b=!1,t("#restore-error-pre").text(t("#bmi-loading-translation").text().trim()),t("#after-logs-sent-modal").attr("data-error-source","migration");let e=t("#BMI_BLOG_URL").text().trim();"/"!==e.slice(-e.length)&&(e+="/"),t.bmi.modal("restore-progress-modal").close(),t.bmi.modal("restore-error-modal").open()},1e3)},!0,!1)}function et(){t.bmi.modal("restore-progress-modal").close(),t.bmi.modal("restore-success-modal").open(),setTimeout(function(){t("#restore-progress-modal .progress-active-bar")[0].style.width="0%",t("#restore-progress-modal .progress-percentage")[0].style.left="0%",t("#restore-progress-modal .progress-percentage")[0].innerText="0%"},500),w=!1}function ot(i=!1,n=null){let r=l;if(!r||r.trim().length<=0)return t.bmi.alert("warning",t("#bmi-no-file").text(),3e3);t("#pre-restore-modal").hasClass("open")&&t.bmi.modal("pre-restore-modal").close(),t("#restore-progress-modal").hasClass("open")||t.bmi.modal("restore-progress-modal").open(),i||(t("#restore-live-log-wrapper").find("pre")[0].innerText=""),null==n&&(s=0,p=!0,clearTimeout(e),G(!0,function(){Y(function(){V(function(){!function i(n,s,r,a=!1,l="false",c={}){null==r&&H(!0);t.bmi.ajax("restore-backup",{file:n,remote:s,secret:r,ignoreRunning:l,tmpname:a,options:c}).then(function(r){if("cli"===r.status){v={l:r.login,u:r.url},w=!0;let t=document.querySelector(".hide_so_much");if(t){let e=t.innerText;e.includes("001")?setTimeout(function(){et(),p=!1,w=!1},1e3):tt()}}else"success"===r.status?(v={l:r.login,u:r.url},setTimeout(function(){clearInterval(o),clearTimeout(e),p=!1,t.bmi.modal("restore-progress-modal").close(),t.bmi.modal("restore-success-modal").open(),setTimeout(function(){t("#restore-progress-modal .progress-active-bar")[0].style.width="0%",t("#restore-progress-modal .progress-percentage")[0].style.left="0%",t("#restore-progress-modal .progress-percentage")[0].innerText="0%"},500)},1500)):"secret"===r.status?(r.options.step=parseInt(r.options.step)+1,i(n,s,r.secret,r.tmp,"true",r.options)):"restore_ongoing"===r.status?(void 0!==r.options.firstDB&&(r.options.firstDB=!1),void 0!==r.options.dbFinished?!0!==r.options.dbFinished&&"true"!==r.options.dbFinished&&"1"!==r.options.dbFinished||(r.options.step=parseInt(r.options.step)+1):void 0!==r.options.dbConvertionFinished?"true"!==r.options.dbConvertionFinished&&!0!==r.options.dbConvertionFinished&&"1"!==r.options.dbConvertionFinished||(r.options.step=parseInt(r.options.step)+1):void 0!==r.options.replaceFinished?"true"!==r.options.replaceFinished&&!0!==r.options.replaceFinished&&"1"!==r.options.replaceFinished||(r.options.step=parseInt(r.options.step)+1):(r.options.step=parseInt(r.options.step)+1,4!=r.options.step&&"4"!=r.options.step||void 0===r.options.repeat_export||!0!==r.options.repeat_export&&"true"!==r.options.repeat_export&&"1"!==r.options.repeat_export||(r.options.step=3,r.options.firstExtract="false")),i(n,s,r.secret,r.tmp,"true",r.options)):"error"===r.status?setTimeout(function(){clearInterval(o),clearTimeout(e),tt()},1e3):(t.bmi.modal("pre-restore-modal").close(),t.bmi.modal("restore-progress-modal").close(),t.bmi._msg(r))}).catch(function(t,e){tt(e),console.log(t)})}(r,i,n)})})}))}function it(){return t("#bmi_restore_tbody").find('input[type="checkbox"]:checked')}function nt(e){e.preventDefault(),t("#format-tip-wrp")[0].style.minWidth="calc(100% - 120px)","none"===t("#format-tip-wrp")[0].style.display?t("#format-tip-wrp").show(300):t("#format-tip-wrp").hide(300)}t("#configuration-reset-absolute").on("click",function(e){e.preventDefault(),t.bmi.ajax("reset-configuration",{}).then(function(e){"success"==e.status?window.location.reload():t.bmi._msg(e)}).catch(function(t){console.log(t)})}),t("#download-site-infos").on("click",function(e){e.preventDefault(),t.bmi.ajax("get-site-data",{}).then(function(e){"success"==e.status?t.bmi.prepareFile("site_details_troubleshooting.txt",JSON.stringify(e.data)):t.bmi._msg(e)}).catch(function(t){console.log(t)})}),t("#start-entire-backup").on("click",function(){t.bmi.modal("prenotice-modal").close(),t.bmi.modal("freeze-loading-modal").open(),t(".backup-minimize").removeClass("disabled"),clearTimeout(e),G(!1,function(){Y(function(){m=!1,i=!1,u=!0,t.bmi.ajax("create-backup",{estaminated_size:T()}).then(function(s){if("success"==s.status)i=!0,clearTimeout(e),u=!1,q(function(){setTimeout(function(){U(s,!0)},350)});else if("background"==s.status){_=!0,h=s.filename;let o=document.querySelector(".hide_so_much");if(o){let s=o.innerText;s.includes("001")&&(i=!0,n=!0,clearTimeout(e),u=!1,U({filename:h},!0)),s.includes("002")&&Q(),s.includes("003")&&(t.bmi.modal("backup-progress-modal").close(),t.bmi.alert("info",t("#bmi-aborted-al").text(),3e3))}}else"background_hard"==s.status?(_=!0,h=s.filename,s.settings.url=s.url,t.bmi.alert("success",t("#bmi-received-hard").text(),3e3),t(".backup-minimize").addClass("disabled"),t("#backup-progress-modal").hasClass("open")||setTimeout(function(){t.bmi.modal("freeze-loading-modal").close(),setTimeout(function(){t.bmi.modal("backup-progress-modal").open()},300)},300),window.onbeforeunload=function(){return"Backup in progress..."},X(s.settings)):(u=!1,setTimeout(function(){clearInterval(o),t(".log-wrapper").find("pre")[0].innerText="",t(".progress-active-bar")[0].style.width="0%",t(".progress-percentage")[0].style.left="0%",t(".progress-percentage")[0].innerText="0%"},300),t.bmi._msg(s),t.bmi.modal("backup-progress-modal").close(),void 0!==s.bfs?W():Q())}).catch(function(t){Q(),console.log(t)}),s=0,u=!0,F()})})}),t("#open_trouble_extenstion").on("click",function(){t("#trouble_extenstion").hasClass("openned")?(t("#trouble_extenstion").hide(300),t("#trouble_extenstion").removeClass("openned"),t(this).removeClass("active")):(t("#trouble_extenstion").show(300),t("#trouble_extenstion").addClass("openned"),t(this).addClass("active"))}),t("#switch-show-trs").on("click",function(){let e=this.dataset.see,o=this.dataset.hide,i=t(".hide-show-tr");t(this).hasClass("shown")?(i.hide(300),t(this).removeClass("shown"),this.innerText=e):(i.show(300),t(this).addClass("shown"),this.innerText=o)}),t("#ex_b_fs").on("change",function(){t("#ex_b_fs").is(":checked")?t("#bmi__collon").show():t("#bmi__collon").hide()}),t("#show-upload-area").on("click",function(){t(".upload_area").hasClass("hidden")?(t(".upload_area").show(300),t(".upload_area").removeClass("hidden"),t([document.documentElement,document.body]).animate({scrollTop:t(this).offset().top-50+"px"},300)):(t(".upload_area").hide(300),t(".upload_area").addClass("hidden"))}),t(".bmi-copper").on("click",function(e){e.preventDefault();let o=t("#"+this.getAttribute("data-copy"))[0];o.value&&o.value.length>0?t.bmi.clipboard(o.value):t.bmi.clipboard(o.innerText)}),t("#bmi_restore_tbody").on("click",".restore-btn",function(e){Z(function(o){if(o){let o=e.target.closest("tr").querySelector(".br_name").innerText;if(l=o,!o||o.trim().length<=0)return t.bmi.alert("warning",t("#bmi-no-file").text(),3e3);t("#restore-ok").prop("checked",!1),t.bmi.modal("freeze-loading-modal").open(),setTimeout(function(){A("is_allowed",function(e){"ask"===e?(t.bmi.modal("freeze-loading-modal").close(),t("#logs-sharing-ask-modal").attr("data-destination","pre-restore-modal"),setTimeout(function(){t.bmi.modal("logs-sharing-ask-modal").open()},300)):(t.bmi.modal("freeze-loading-modal").close(),setTimeout(function(){t.bmi.modal("pre-restore-modal").open()},300))})},300)}})}),t("#quick-download-migration").on("click",function(){let e=t("#bm-d-url").val();t.bmi.isUrlValid(e)?Z(function(o){o&&(e.length>0?(l=-100,t("#restore-ok").prop("checked",!1),t.bmi.modal("freeze-loading-modal").open(),setTimeout(function(){A("is_allowed",function(e){"ask"===e?(t.bmi.modal("freeze-loading-modal").close(),t("#logs-sharing-ask-modal").attr("data-destination","pre-restore-modal"),setTimeout(function(){t.bmi.modal("logs-sharing-ask-modal").open()},300)):(t.bmi.modal("freeze-loading-modal").close(),setTimeout(function(){t.bmi.modal("pre-restore-modal").open()},300))})},300)):t.bmi.alert("warning",t("#bmi-invalid-url").text(),5e3))}):t.bmi.alert("warning",t("#bmi-invalid-url").text(),5e3)}),t("#restore-start-sure").on("click",function(){t("#restore-ok").is(":checked")?-100===l?(l=null,t("#restore-live-log-wrapper").find("pre")[0].innerText="",Z(function(i){G(!0,function(){Y(function(){if(i){let i=t("#bm-d-url").val();t("#restore_current_step").text(t("#bmi-downloading-remote").text()),t.bmi.ajax("download-backup",{url:i}).then(function(i){clearInterval(o),clearTimeout(e),"success"===i.status?(b=!0,H(!1),t.bmi.reloadBackups(),l=i.name,setTimeout(function(){clearInterval(o),t("#restore-progress-modal .progress-active-bar")[0].style.width="0%",t("#restore-progress-modal .progress-percentage")[0].style.left="0%",t("#restore-progress-modal .progress-percentage")[0].innerText="0%",t("#restore_current_step").text(t("#bmi-restoring-prepare").text())},600)):"cli_download"==i.status?(l=".cli_download",b=!0,H(!1)):"error"===i.status?tt():(t.bmi._msg(i),tt())}).catch(function(t,e){tt(e),console.log(t)}),t("#restore-live-log-wrapper").find("pre")[0].innerText="",s=0,p=!0,b=!0,H(),t.bmi.modal("pre-restore-modal").close(),t.bmi.modal("restore-progress-modal").open()}})})})):ot():t.bmi.alert("warning",t("#bmi-restore-require-checkmark").text(),3e3)}),t(".backup-minimize").on("click",function(){N(function(e){!0===e?t("#bmi-ongoing-backup").show(300):t("#bmi-ongoing-backup").hide()})}),function t(){K(function(){setTimeout(function(){t()},f)})}(),t("#bmi-ongoing-backup").on("click",function(){N(function(e){!0===e?(s=0,F(),setTimeout(function(){t.bmi.modal("freeze-loading-modal").close(),setTimeout(function(){t.bmi.modal("backup-progress-modal").open()},300)},300)):(t.bmi.alert("info",t("#bmi-bc-ended").text(),3e3),t.bmi.reloadBackups()),t("#bmi-ongoing-backup").hide(300)})}),t("#bmi_support_chat").on("click",function(){if(0===t("#support-bmi").length){t("#bmi").append('<script id="support-bmi" src="'+t("#bmi-support-url-translation").val()+'" async><\/script>'),setTimeout(function(){t("#bmi_support_chat").hide()},100);var e=!1;let o=setInterval(function(){1==e&&clearInterval(o),void 0!==window.jivo_api&&(window.jivo_api.open(),e=!0)},30)}}),t("#bmi_restore_tbody").on("change",'input[type="checkbox"]',function(e){let o=it().length;o>0?t(".del-all-btn-wrp").show(300):t(".del-all-btn-wrp").hide(300),o==t("#bmi_restore_tbody").find('input[type="checkbox"]').length?t("#backups-select-all").prop("checked",!0):t("#backups-select-all").prop("checked",!1)}),t("#fix-uname-issues").on("click",function(e){e.preventDefault(),t.bmi.ajax("fix_uname_issues",{}).then(function(e){t.bmi.alert("success",t("#bmi-default-success").text(),3e3)}).catch(function(e){t.bmi.alert("error",t("#bmi-default-fail").text(),3e3)})}),t("#revert-uname-issues").on("click",function(e){e.preventDefault(),t.bmi.ajax("revert_uname_issues",{}).then(function(e){t.bmi.alert("success",t("#bmi-default-success").text(),3e3)}).catch(function(e){t.bmi.alert("error",t("#bmi-default-fail").text(),3e3)})}),t("#backups-select-all").on("change",function(){!0===this.checked?t("#bmi_restore_tbody").find('input[type="checkbox"]').prop("checked",!0):t("#bmi_restore_tbody").find('input[type="checkbox"]').prop("checked",!1),it().length>0?t(".del-all-btn-wrp").show(300):t(".del-all-btn-wrp").hide(300)}),t(".lrn-mr-btn, .closer-learn-more").on("click",function(){t(".learn_more_about_cron").hasClass("open")?(t(".learn_more_about_cron").removeClass("open"),t(".learn_more_about_cron").hide(300),t(".lrn-mr-btn").show(),t(".lrn-mr-btn").css({opacity:0}),t(".lrn-mr-btn").animate({opacity:1},300)):(t(".learn_more_about_cron").addClass("open"),t(".learn_more_about_cron").show(300),t(".lrn-mr-btn").css({opacity:1}),t(".lrn-mr-btn").animate({opacity:0},300,function(){t(".lrn-mr-btn").hide()}))}),t("#bmi-error-toggle").on("click",function(){t(".error-body").hasClass("open")?(t(".error-body").hide(300),t(".error-body").removeClass("open"),t("#bmi-error-toggle").text(t("#bmi-error-toggle").data("expand"))):(t(".error-body").show(300),t(".error-body").addClass("open"),t("#bmi-error-toggle").text(t("#bmi-error-toggle").data("collapse")))}),t("#bmi_send_test_mail").on("click",function(e){e.preventDefault(),t.bmi.ajax("send-test-mail",{}).then(function(e){t.bmi.alert("success",t("#bmi-email-success").text(),3e3)}).catch(function(e){t.bmi.alert("error",t("#bmi-email-fail").text(),3e3)})}),t("#bmi-error-dismiss").on("click",function(){t(".error-noticer").hide(300),setTimeout(function(){t(".error-noticer").remove()},330),t.bmi.ajax("dismiss-error-notice",{}).then(function(t){}).catch(function(t){})}),t(".deleteAllSelected").on("click",function(){let e=it(),o=[];for(let t=0;t<e.length;++t){let i=e[t].closest("tr");o.push(i.querySelector(".br_name").innerText)}t("#delete-confirm-modal").find(".text1").hide(),t("#delete-confirm-modal").find(".text2").show();let i=o.length;i<=0||(t("#backup-multiple-del-count").text(i),i>1?(t("#del-only-one").hide(),t("#del-more-than-one").show()):(t("#del-more-than-one").hide(),t("#del-only-one").show()),d=o,t.bmi.modal("delete-confirm-modal").open())}),t("#load-more-backups").on("click",function(e){e.preventDefault(),t.bmi.showMoreBackups()}),t("#show-format-tip").on("click",nt),t("#hide-format-tip").on("click",nt),t(".go-to-marbs").on("click",function(e){e.preventDefault(),document.getElementById("marbs").click(),t.bmi.modal().closeAll()}),t(".site-reloader").on("click",function(){let t=v.u;"/"!==t.slice(-t.length)&&(t+="/");let e=t+"?backup-migration=AFTER_RESTORE&backup-id="+v.l+"&progress-id=4u70L051n&t="+ +new Date;window.location=e}),function(){!async function(){O("plugins"),O("uploads"),O("themes"),O("contents_others"),O("wordpress")}(),t.bmi.ajax("get-dynamic-names",{}).then(function(e){let o=e.data;if(t("#bmi_exclusion_rules").text(""),void 0!==o&&void 0!==o.length){for(let e=0;e<o.length;++e){let i=t(".exclusion_template").clone();i.removeClass("exclusion_template"),i.find(".exclusion_txt").val(o[e].txt);let n=i.find(".exclusion_position").find("select"),s=i.find(".exclusion_where").find("select");n&&(n[0].setAttribute("data-def",o[e].pos),s&&(s[0].setAttribute("data-def",o[e].whr),t("#bmi_exclusion_rules").append(i),i.find(".exclusion_position").find(".bmi-dropdown").length>0&&t.bmi.setOption(i.find(".exclusion_position").find(".bmi-dropdown"),null,o[e].pos),i.find(".exclusion_where").find(".bmi-dropdown").length>0&&t.bmi.setOption(i.find(".exclusion_where").find(".bmi-dropdown"),null,o[e].whr)))}t("#dynamic-fpaths-names").text(e["dynamic-fpaths-names"].join("\n")),t("#dynamic-dpaths-names").text(e["dynamic-dpaths-names"].join("\n"))}}).catch(function(t){console.log(t)}),t.bmi.reloadBackups(),function(){let e=1e3*parseInt(t("#server-time-auto").attr("data-time")),o=new Date(e);t("#server-time-auto").text(o.toUTCString()),setInterval(function(){e+=1e3,o=new Date(e),t("#server-time-auto").text(o.toUTCString())},1e3),t("#ex_b_fs").is(":checked")?t("#bmi__collon").show():t("#bmi__collon").hide()}();let e=t("#BMI_BLOG_URL").text().trim();"/"!==e.slice(-e.length)&&(e+="/");let o=e+"?backup-migration=PROGRESS_LOGS&progress-id=latest.log&backup-id=current&t="+ +new Date,i=e+"?backup-migration=PROGRESS_LOGS&progress-id=latest_migration.log&backup-id=current&t="+ +new Date;t(".download-backup-log-url").attr("href",o),t(".download-restore-log-url").attr("href",i)}()}),jQuery(document).ready(function(t){t(".modal-opener").on("click",function(e){this.getAttribute("data-modal")&&""!=this.getAttribute("data-modal")&&(e.preventDefault(),this.getAttribute("data-close")&&t.bmi.modal(this.getAttribute("data-close")).close(),t.bmi.modal(this.getAttribute("data-modal")).open())}),t(".modal-closer").on("click",function(e){this.getAttribute("data-close")&&""!=this.getAttribute("data-close")?(e.preventDefault(),t.bmi.modal(this.getAttribute("data-close")).close()):this.closest(".modal")&&(e.preventDefault(),t("#"+this.closest(".modal").getAttribute("id")).length>0&&t.bmi.modal(this.closest(".modal").getAttribute("id")).close())}),t(".modal-close").on("click",function(e){this.closest(".modal")&&(e.preventDefault(),t.bmi.modal(this.closest(".modal").id).close())}),t(".modal").on("click",function(e){e.target!=this||t(e.target).hasClass("modal-no-close")||t.bmi.modal(this.id).close()})}),jQuery(document).ready(function(t){t.bmi.tooltips.init();let e,o=-1,i=!1,n="";for(let t=0;t<12;++t)n+="<div></div>";function s(i){clearInterval(e),0==i?(t(".upload-progress-bar").find("span")[0].style.width=i+"%",t(".upload-percentage").text(i+"%")):100==i?(t(".upload-progress-bar").find("span")[0].style.width=i+"%",t(".upload-percentage").text(i+"%")):function(i=0,n=1e3){if(o==i)return;o=i,clearInterval(e);let s=parseInt(t(".upload-percentage").text())-1;if(s>i&&0!=i)return;let r=i-s,a=s,l=Math.abs(Math.floor(n/r));e=setInterval(function(){a+=1,t(".upload-progress-bar").find("span")[0].style.width=a+"%",t(".upload-percentage").text(a+"%"),a>=100&&(clearInterval(e),o=null)},l)}(i,1e3)}t(".spinner-loader").html(n).addClass("lds-spinner"),t.fchunker({upId:"upid",upShardSize:"5",upMaxSize:"2000",upUrl:ajaxurl,upType:"zip",upCallBack:function(e){var o=e.status,n=e.message;e.url,Math.random();2==o&&(setTimeout(function(){t("#drop-area").show(300),t(".upload-progress").hide(300)},100),t.bmi.alert("success",t("#bmi-upload-end").text(),3e3),t.bmi.modal("upload-success-modal").open(),t.bmi.reloadBackups()),1==o&&(i||(t.bmi.alert("success",t("#bmi-upload-start").text(),3e3),i=!0)),0==o&&(t.upErrorMsg(n),t("#drop-area").show(300),t(".upload-progress").hide(300)),5==o&&(t.bmi.modal("upload-invalid-manifest-modal").open(),t("#drop-area").show(300),t(".upload-progress").hide(300)),3==o&&(s(100),t.upErrorMsg(n),t("#drop-area").show(300),t(".upload-progress").hide(300))},upEvent:function(t){s(t)},upStop:function(e){s(0),setTimeout(function(){t("#drop-area").show(300),t(".upload-progress").hide(300)},100),e.includes("Type error")?(t.bmi.modal("upload-wrong-file-modal").open(),t.bmi.alert("warning",t("#bmi-upload-wrong").text(),3e3)):e.includes("File already exists")?(t.bmi.modal("upload-exist-file-modal").open(),t.bmi.alert("warning",t("#bmi-upload-exists").text(),3e3)):(t.bmi.alert("error",t("#bmi-upload-error").text(),3e3),console.error(e))},upStart:function(){i=!1,o=-1,s(0),setTimeout(function(){t("#drop-area").hide(300),t(".upload-progress").show(300)},100)}})}),jQuery(document).ready(function(t){function e(t){for(let e=0;e<t.length;++e){let o=t[e].closest(".container-radio");o&&void 0!=typeof o.classList&&(o.classList.remove("active"),!0===t[e].checked&&o.classList.add("active"))}}t('input[type="radio"]').on("change",function(){let t=this.getAttribute("name");this.closest(".container-radio");e(document.querySelectorAll('[name="'+t+'"]'))}),e(document.getElementById("bmi").querySelectorAll('input[type="radio"]'))}),jQuery(document).ready(function(t){let e=!1;t(".tabs").on("click",".tab",function(o){if(this.classList.contains("active"))return;if(!0===e)return;e=!0,t.bmi.collapsers.closeAll();let i=this.getAttribute("data-point");"manage-restore-wrapper"==i?(t("#create-backup-wrapper").hide(300),t('[data-point="create-backup-wrapper"]').removeClass("active")):"create-backup-wrapper"==i&&(t("#manage-restore-wrapper").hide(300),t('[data-point="manage-restore-wrapper"]').removeClass("active")),t("#"+i).show(300),t(this).addClass("active"),setTimeout(function(){e=!1},320)})}),jQuery(document).ready(function(t){let e=document.getElementById("drop-area");function o(t){t.preventDefault(),t.stopPropagation()}function i(t){e.classList.add("highlight")}function n(t){e.classList.remove("highlight")}e&&(["dragenter","dragover","dragleave","drop"].forEach(t=>{e.addEventListener(t,o,!1)}),["dragenter","dragover"].forEach(t=>{e.addEventListener(t,i,!1),document.querySelector("body").addEventListener(t,i,!1)}),["dragleave","drop","mouseleave"].forEach(t=>{e.addEventListener(t,n,!1)}),t("body, #drop-area").on("mouseleave dragleave drop",function(){n()}),e.addEventListener("drop",function(t){!function(t){t=[...t],jQuery.fchunker_upload("file",t[0])}(t.dataTransfer.files)},!1))});